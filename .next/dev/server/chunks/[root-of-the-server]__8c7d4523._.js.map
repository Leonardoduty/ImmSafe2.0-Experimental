{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/app/api/geocode/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\n\n// Use OpenStreetMap Nominatim API for global geocoding\nconst NOMINATIM_BASE_URL = \"https://nominatim.openstreetmap.org/search\"\n\n// Fallback database for common locations\nconst GEOCODE_DATABASE: Record<\n  string,\n  { name: string; lat: number; lon: number; type: string; display_name: string }[]\n> = {\n  // Middle East - Syria & Surrounding\n  syria: [\n    { name: \"Damascus\", lat: 33.5138, lon: 36.2765, type: \"city\", display_name: \"Damascus, Syria\" },\n    { name: \"Aleppo\", lat: 36.2021, lon: 37.1343, type: \"city\", display_name: \"Aleppo, Syria\" },\n    { name: \"Homs\", lat: 34.7275, lon: 36.7139, type: \"city\", display_name: \"Homs, Syria\" },\n    { name: \"Hama\", lat: 35.1361, lon: 36.755, type: \"city\", display_name: \"Hama, Syria\" },\n    { name: \"Latakia\", lat: 34.7612, lon: 35.5286, type: \"city\", display_name: \"Latakia, Syria\" },\n    { name: \"Tartus\", lat: 34.8927, lon: 35.8829, type: \"city\", display_name: \"Tartus, Syria\" },\n    { name: \"Idlib\", lat: 35.9268, lon: 36.6567, type: \"city\", display_name: \"Idlib, Syria\" },\n    { name: \"Raqqa\", lat: 35.9461, lon: 39.0086, type: \"city\", display_name: \"Raqqa, Syria\" },\n    { name: \"Hasaka\", lat: 36.5024, lon: 40.7468, type: \"city\", display_name: \"Hasaka, Syria\" },\n    { name: \"Palmyra\", lat: 34.5553, lon: 38.2725, type: \"town\", display_name: \"Palmyra, Syria\" },\n  ],\n  israel: [\n    { name: \"Tel Aviv\", lat: 32.0853, lon: 34.7818, type: \"city\", display_name: \"Tel Aviv, Israel\" },\n    { name: \"Jerusalem\", lat: 31.7683, lon: 35.2137, type: \"city\", display_name: \"Jerusalem\" },\n    { name: \"Haifa\", lat: 32.8193, lon: 34.9956, type: \"city\", display_name: \"Haifa, Israel\" },\n    { name: \"Beer Sheba\", lat: 31.2461, lon: 34.7913, type: \"city\", display_name: \"Beer Sheba, Israel\" },\n  ],\n  palestine: [\n    { name: \"Gaza\", lat: 31.927, lon: 35.2007, type: \"region\", display_name: \"Gaza, Palestine\" },\n    { name: \"Ramallah\", lat: 31.9454, lon: 35.2028, type: \"city\", display_name: \"Ramallah, West Bank\" },\n    { name: \"Bethlehem\", lat: 31.7046, lon: 35.2038, type: \"city\", display_name: \"Bethlehem, West Bank\" },\n    { name: \"Nablus\", lat: 32.2211, lon: 35.2344, type: \"city\", display_name: \"Nablus, West Bank\" },\n    { name: \"Jenin\", lat: 32.3028, lon: 35.2889, type: \"city\", display_name: \"Jenin, West Bank\" },\n  ],\n  lebanon: [\n    { name: \"Beirut\", lat: 33.8547, lon: 35.2661, type: \"city\", display_name: \"Beirut, Lebanon\" },\n    { name: \"Tripoli\", lat: 34.4386, lon: 35.8395, type: \"city\", display_name: \"Tripoli, Lebanon\" },\n    { name: \"Sidon\", lat: 33.5676, lon: 35.3734, type: \"city\", display_name: \"Sidon, Lebanon\" },\n    { name: \"Tyre\", lat: 33.2735, lon: 35.1899, type: \"city\", display_name: \"Tyre, Lebanon\" },\n    { name: \"Baalbek\", lat: 34.0055, lon: 36.2068, type: \"town\", display_name: \"Baalbek, Lebanon\" },\n  ],\n  jordan: [\n    { name: \"Amman\", lat: 31.9454, lon: 35.9284, type: \"city\", display_name: \"Amman, Jordan\" },\n    { name: \"Zarqa\", lat: 32.0551, lon: 36.0876, type: \"city\", display_name: \"Zarqa, Jordan\" },\n    { name: \"Irbid\", lat: 32.5552, lon: 35.8489, type: \"city\", display_name: \"Irbid, Jordan\" },\n    { name: \"Aqaba\", lat: 29.5327, lon: 34.9426, type: \"city\", display_name: \"Aqaba, Jordan\" },\n  ],\n  yemen: [\n    { name: \"Sanaa\", lat: 15.3694, lon: 48.2219, type: \"city\", display_name: \"Sanaa, Yemen\" },\n    { name: \"Aden\", lat: 12.7896, lon: 45.3569, type: \"city\", display_name: \"Aden, Yemen\" },\n    { name: \"Taiz\", lat: 13.5801, lon: 44.0186, type: \"city\", display_name: \"Taiz, Yemen\" },\n    { name: \"Hodeidah\", lat: 15.3547, lon: 42.3417, type: \"city\", display_name: \"Hodeidah, Yemen\" },\n  ],\n  turkey: [\n    { name: \"Istanbul\", lat: 41.0082, lon: 28.9784, type: \"city\", display_name: \"Istanbul, Turkey\" },\n    { name: \"Ankara\", lat: 39.9334, lon: 32.8597, type: \"city\", display_name: \"Ankara, Turkey\" },\n    { name: \"Izmir\", lat: 38.4161, lon: 27.138, type: \"city\", display_name: \"Izmir, Turkey\" },\n    { name: \"Gaziantep\", lat: 37.0662, lon: 37.3833, type: \"city\", display_name: \"Gaziantep, Turkey\" },\n    { name: \"Kilis\", lat: 36.7184, lon: 37.1168, type: \"city\", display_name: \"Kilis, Turkey\" },\n    { name: \"Mardin\", lat: 37.3089, lon: 40.7395, type: \"city\", display_name: \"Mardin, Turkey\" },\n  ],\n  afghanistan: [\n    { name: \"Kabul\", lat: 34.5553, lon: 69.2075, type: \"city\", display_name: \"Kabul, Afghanistan\" },\n    { name: \"Kandahar\", lat: 31.6257, lon: 65.7245, type: \"city\", display_name: \"Kandahar, Afghanistan\" },\n    { name: \"Herat\", lat: 34.3425, lon: 62.2, type: \"city\", display_name: \"Herat, Afghanistan\" },\n    { name: \"Mazar-i-Sharif\", lat: 36.7948, lon: 67.1104, type: \"city\", display_name: \"Mazar-i-Sharif, Afghanistan\" },\n  ],\n  pakistan: [\n    { name: \"Islamabad\", lat: 33.6844, lon: 73.0479, type: \"city\", display_name: \"Islamabad, Pakistan\" },\n    { name: \"Karachi\", lat: 24.8607, lon: 67.0011, type: \"city\", display_name: \"Karachi, Pakistan\" },\n    { name: \"Peshawar\", lat: 34.008, lon: 71.5788, type: \"city\", display_name: \"Peshawar, Pakistan\" },\n    { name: \"Quetta\", lat: 30.1798, lon: 66.975, type: \"city\", display_name: \"Quetta, Pakistan\" },\n  ],\n  iraq: [\n    { name: \"Baghdad\", lat: 33.3128, lon: 44.3615, type: \"city\", display_name: \"Baghdad, Iraq\" },\n    { name: \"Mosul\", lat: 36.3425, lon: 43.1581, type: \"city\", display_name: \"Mosul, Iraq\" },\n    { name: \"Basra\", lat: 30.5085, lon: 47.8078, type: \"city\", display_name: \"Basra, Iraq\" },\n    { name: \"Kirkuk\", lat: 35.4764, lon: 44.3989, type: \"city\", display_name: \"Kirkuk, Iraq\" },\n    { name: \"Erbil\", lat: 36.191, lon: 44.0091, type: \"city\", display_name: \"Erbil, Iraq\" },\n  ],\n  sudan: [\n    { name: \"Khartoum\", lat: 15.5007, lon: 32.5599, type: \"city\", display_name: \"Khartoum, Sudan\" },\n    { name: \"Port Sudan\", lat: 19.6173, lon: 37.2169, type: \"city\", display_name: \"Port Sudan, Sudan\" },\n    { name: \"Darfur\", lat: 13.5, lon: 25.0, type: \"region\", display_name: \"Darfur, Sudan\" },\n  ],\n  ethiopia: [\n    { name: \"Addis Ababa\", lat: 9.032, lon: 38.7469, type: \"city\", display_name: \"Addis Ababa, Ethiopia\" },\n    { name: \"Dire Dawa\", lat: 9.6412, lon: 41.8687, type: \"city\", display_name: \"Dire Dawa, Ethiopia\" },\n  ],\n  kenya: [\n    { name: \"Nairobi\", lat: 1.2921, lon: 36.8219, type: \"city\", display_name: \"Nairobi, Kenya\" },\n    { name: \"Mombasa\", lat: 4.0435, lon: 39.6682, type: \"city\", display_name: \"Mombasa, Kenya\" },\n    { name: \"Kakuma\", lat: 3.4025, lon: 35.3075, type: \"town\", display_name: \"Kakuma Refugee Camp, Kenya\" },\n    { name: \"Dadaab\", lat: 0.3031, lon: 40.3295, type: \"town\", display_name: \"Dadaab Refugee Camp, Kenya\" },\n  ],\n  uganda: [{ name: \"Kampala\", lat: 0.3476, lon: 32.5825, type: \"city\", display_name: \"Kampala, Uganda\" }],\n  congo: [\n    { name: \"Kinshasa\", lat: 4.3276, lon: 15.3136, type: \"city\", display_name: \"Kinshasa, DR Congo\" },\n    { name: \"Goma\", lat: 1.6956, lon: 29.2201, type: \"city\", display_name: \"Goma, DR Congo\" },\n  ],\n  greece: [\n    { name: \"Athens\", lat: 37.9838, lon: 23.7275, type: \"city\", display_name: \"Athens, Greece\" },\n    { name: \"Lesbos\", lat: 39.2, lon: 26.1, type: \"island\", display_name: \"Lesbos, Greece\" },\n  ],\n}\n\nfunction fuzzySearchLocations(query: string, limit = 10): any[] {\n  const q = query.toLowerCase().trim()\n  if (q.length === 0) return []\n\n  const results: any[] = []\n\n  // Search all countries and their locations\n  for (const [country, locations] of Object.entries(GEOCODE_DATABASE)) {\n    for (const location of locations) {\n      const name = location.name.toLowerCase()\n      const display = location.display_name.toLowerCase()\n      const country_name = country.toLowerCase()\n\n      // Exact match on name\n      if (name === q || display.includes(q)) {\n        results.push({ ...location, relevance: 100 })\n      }\n      // Partial match on name start\n      else if (name.startsWith(q) || display.startsWith(q)) {\n        results.push({ ...location, relevance: 80 })\n      }\n      // Partial match anywhere in name\n      else if (name.includes(q) || display.includes(q)) {\n        results.push({ ...location, relevance: 60 })\n      }\n      // Match country name\n      else if (country_name.startsWith(q)) {\n        results.push({ ...location, relevance: 40 })\n      }\n    }\n  }\n\n  // Sort by relevance and limit\n  return results\n    .sort((a, b) => b.relevance - a.relevance)\n    .slice(0, limit)\n    .map(({ relevance, ...rest }) => rest)\n}\n\nexport async function GET(request: NextRequest) {\n  const { searchParams } = new URL(request.url)\n  const query = searchParams.get(\"q\")\n  const lat = searchParams.get(\"lat\")\n  const lon = searchParams.get(\"lon\")\n\n  try {\n    if (query) {\n      // Try Nominatim API first for global search\n      try {\n        const nominatimUrl = `${NOMINATIM_BASE_URL}?q=${encodeURIComponent(query)}&format=json&limit=10&addressdetails=1`\n        const nominatimResponse = await fetch(nominatimUrl, {\n          headers: {\n            \"User-Agent\": \"RefugeeSurvivalApp/1.0\",\n          },\n        })\n\n        if (nominatimResponse.ok) {\n          const nominatimData = await nominatimResponse.json()\n          if (nominatimData && nominatimData.length > 0) {\n            const results = nominatimData.map((item: any) => ({\n              name: item.display_name,\n              lat: parseFloat(item.lat),\n              lon: parseFloat(item.lon),\n              type: item.type || item.class || \"location\",\n              display_name: item.display_name,\n            }))\n            return NextResponse.json(results)\n          }\n        }\n      } catch (nominatimError) {\n        console.error(\"[v0] Nominatim API error:\", nominatimError)\n        // Fall through to database search\n      }\n\n      // Fallback to local database\n      const results = fuzzySearchLocations(query, 10)\n      return NextResponse.json(results)\n    } else if (lat && lon) {\n      const lat_num = Number.parseFloat(lat)\n      const lon_num = Number.parseFloat(lon)\n\n      // Try Nominatim reverse geocoding first\n      try {\n        const nominatimUrl = `https://nominatim.openstreetmap.org/reverse?lat=${lat_num}&lon=${lon_num}&format=json`\n        const nominatimResponse = await fetch(nominatimUrl, {\n          headers: {\n            \"User-Agent\": \"RefugeeSurvivalApp/1.0\",\n          },\n        })\n\n        if (nominatimResponse.ok) {\n          const nominatimData = await nominatimResponse.json()\n          if (nominatimData && nominatimData.display_name) {\n            return NextResponse.json({\n              name: nominatimData.display_name,\n              lat: lat_num,\n              lon: lon_num,\n              type: nominatimData.type || \"location\",\n              display_name: nominatimData.display_name,\n            })\n          }\n        }\n      } catch (nominatimError) {\n        console.error(\"[v0] Nominatim reverse geocoding error:\", nominatimError)\n        // Fall through to database search\n      }\n\n      // Fallback to local database\n      let closestLocation = null\n      let closestDistance = Number.POSITIVE_INFINITY\n\n      for (const locations of Object.values(GEOCODE_DATABASE)) {\n        for (const location of locations) {\n          const distance = Math.sqrt(Math.pow(location.lat - lat_num, 2) + Math.pow(location.lon - lon_num, 2))\n          if (distance < closestDistance) {\n            closestDistance = distance\n            closestLocation = location\n          }\n        }\n      }\n\n      return NextResponse.json(closestLocation || null)\n    }\n\n    return NextResponse.json([])\n  } catch (error) {\n    console.error(\"[v0] API geocode error:\", error)\n    return NextResponse.json([])\n  }\n}\n"],"names":[],"mappings":"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"}}]
}