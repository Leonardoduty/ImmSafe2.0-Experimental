{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/lib/map-utils.ts"],"sourcesContent":["// Map utilities for drawing borders and routes\n\nexport interface GeoJSONFeature {\n  type: string\n  properties: Record<string, any>\n  geometry: {\n    type: string\n    coordinates: number[][][] | number[][][][]\n  }\n}\n\nexport interface GeoJSON {\n  type: string\n  features: GeoJSONFeature[]\n}\n\n// Load simplified world borders GeoJSON\nexport async function loadWorldBorders(): Promise<GeoJSON | null> {\n  let timeoutId: NodeJS.Timeout | undefined\n  try {\n    // Create abort controller for timeout\n    const controller = new AbortController()\n    timeoutId = setTimeout(() => controller.abort(), 10000) // 10 second timeout\n    \n    // Use a simplified world borders GeoJSON from a free source\n    // Using a CDN that hosts simplified GeoJSON\n    const response = await fetch(\"https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson\", {\n      method: \"GET\",\n      headers: {\n        \"Accept\": \"application/json\",\n      },\n      signal: controller.signal,\n    })\n    \n    clearTimeout(timeoutId)\n    if (!response.ok) {\n      // Fallback to a simpler approach - return null and draw basic borders\n      return null\n    }\n    const data = await response.json()\n    return data as GeoJSON\n  } catch (error) {\n    // Silently fail - borders are optional\n    if (error instanceof Error && error.name !== \"AbortError\") {\n      console.warn(\"[v0] Could not load world borders (this is optional):\", error.message)\n    }\n    return null\n  } finally {\n    // Cleanup timeout if still running\n    if (timeoutId) {\n      clearTimeout(timeoutId)\n    }\n  }\n}\n\n// Project lat/lon to canvas coordinates\nexport function projectToCanvas(\n  lat: number,\n  lon: number,\n  bounds: { minLat: number; maxLat: number; minLon: number; maxLon: number },\n  width: number,\n  height: number,\n): { x: number; y: number } {\n  const latPadding = (bounds.maxLat - bounds.minLat) * 0.1\n  const lonPadding = (bounds.maxLon - bounds.minLon) * 0.1\n  const adjustedMinLat = bounds.minLat - latPadding\n  const adjustedMaxLat = bounds.maxLat + latPadding\n  const adjustedMinLon = bounds.minLon - lonPadding\n  const adjustedMaxLon = bounds.maxLon + lonPadding\n\n  const x = ((lon - adjustedMinLon) / (adjustedMaxLon - adjustedMinLon)) * width\n  const y = ((adjustedMaxLat - lat) / (adjustedMaxLat - adjustedMinLat)) * height\n\n  return { x, y }\n}\n\n// Calculate bounds from coordinates\nexport function calculateBounds(\n  source?: { lat: number; lon: number },\n  destination?: { lat: number; lon: number },\n  defaultBounds = { minLat: 34, maxLat: 36, minLon: 39, maxLon: 42 },\n): { minLat: number; maxLat: number; minLon: number; maxLon: number } {\n  if (!source && !destination) {\n    return defaultBounds\n  }\n\n  let minLat = source?.lat ?? destination?.lat ?? defaultBounds.minLat\n  let maxLat = source?.lat ?? destination?.lat ?? defaultBounds.maxLat\n  let minLon = source?.lon ?? destination?.lon ?? defaultBounds.minLon\n  let maxLon = source?.lon ?? destination?.lon ?? defaultBounds.maxLon\n\n  if (source) {\n    minLat = Math.min(minLat, source.lat)\n    maxLat = Math.max(maxLat, source.lat)\n    minLon = Math.min(minLon, source.lon)\n    maxLon = Math.max(maxLon, source.lon)\n  }\n\n  if (destination) {\n    minLat = Math.min(minLat, destination.lat)\n    maxLat = Math.max(maxLat, destination.lat)\n    minLon = Math.min(minLon, destination.lon)\n    maxLon = Math.max(maxLon, destination.lon)\n  }\n\n  return { minLat, maxLat, minLon, maxLon }\n}\n\n// Draw GeoJSON borders on canvas\nexport function drawGeoJSONBorders(\n  ctx: CanvasRenderingContext2D,\n  geoJson: GeoJSON,\n  bounds: { minLat: number; maxLat: number; minLon: number; maxLon: number },\n  width: number,\n  height: number,\n) {\n  ctx.strokeStyle = \"rgba(100, 150, 200, 0.3)\"\n  ctx.lineWidth = 1\n  ctx.fillStyle = \"rgba(50, 100, 150, 0.05)\"\n\n  geoJson.features.forEach((feature) => {\n    if (feature.geometry.type === \"Polygon\") {\n      const coordinates = feature.geometry.coordinates as number[][][]\n      coordinates.forEach((ring) => {\n        ctx.beginPath()\n        let first = true\n        ring.forEach((coord) => {\n          const [lon, lat] = coord\n          const { x, y } = projectToCanvas(lat, lon, bounds, width, height)\n          if (first) {\n            ctx.moveTo(x, y)\n            first = false\n          } else {\n            ctx.lineTo(x, y)\n          }\n        })\n        ctx.closePath()\n        ctx.fill()\n        ctx.stroke()\n      })\n    } else if (feature.geometry.type === \"MultiPolygon\") {\n      const coordinates = feature.geometry.coordinates as number[][][][]\n      coordinates.forEach((polygon) => {\n        polygon.forEach((ring) => {\n          ctx.beginPath()\n          let first = true\n          ring.forEach((coord) => {\n            const [lon, lat] = coord\n            const { x, y } = projectToCanvas(lat, lon, bounds, width, height)\n            if (first) {\n              ctx.moveTo(x, y)\n              first = false\n            } else {\n              ctx.lineTo(x, y)\n            }\n          })\n          ctx.closePath()\n          ctx.fill()\n          ctx.stroke()\n        })\n      })\n    }\n  })\n}\n\n// Generate route polyline points\nexport function generateRoutePolyline(\n  source: { lat: number; lon: number },\n  destination: { lat: number; lon: number },\n  steps = 50,\n): Array<{ lat: number; lon: number }> {\n  const points: Array<{ lat: number; lon: number }> = []\n  for (let i = 0; i <= steps; i++) {\n    const fraction = i / steps\n    const lat = source.lat + (destination.lat - source.lat) * fraction\n    const lon = source.lon + (destination.lon - source.lon) * fraction\n    points.push({ lat, lon })\n  }\n  return points\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/lib/routing-engine.ts"],"sourcesContent":["// Global routing with OSRM API and haversine fallback\n\ninterface RouteCoordinates {\n  lat: number\n  lon: number\n}\n\ntype RoutePath = Array<{ lat: number; lon: number }>\n\nexport async function getRouteFromOSRM(\n  source: RouteCoordinates,\n  destination: RouteCoordinates,\n): Promise<RoutePath | null> {\n  let timeoutId: NodeJS.Timeout | undefined\n  try {\n    // Create abort controller for timeout\n    const controller = new AbortController()\n    timeoutId = setTimeout(() => controller.abort(), 8000) // 8 second timeout\n    \n    const url = `https://router.project-osrm.org/route/v1/foot/${source.lon},${source.lat};${destination.lon},${destination.lat}?geometries=geojson&overview=full`\n\n    const response = await fetch(url, {\n      headers: {\n        \"User-Agent\": \"SafeRoute-HumanitarianApp/1.0\",\n      },\n      signal: controller.signal,\n    })\n    \n    if (timeoutId) clearTimeout(timeoutId)\n\n    if (!response.ok) return null\n\n    const data = await response.json()\n    if (data.routes && data.routes[0]) {\n      const coords = data.routes[0].geometry.coordinates\n      return coords.map((c: [number, number]) => ({\n        lat: c[1],\n        lon: c[0],\n      }))\n    }\n  } catch (error) {\n    // Silently fail - we have fallback\n    if (error instanceof Error && error.name !== \"AbortError\") {\n      console.warn(\"[v0] OSRM routing unavailable (using fallback):\", error.message)\n    }\n  } finally {\n    // Cleanup timeout if still running\n    if (timeoutId) {\n      clearTimeout(timeoutId)\n    }\n  }\n  return null\n}\n\nexport function generateGreatCircleRoute(source: RouteCoordinates, destination: RouteCoordinates): RoutePath {\n  const points: RoutePath = []\n  const steps = 50 // Generate 50 intermediate points\n\n  for (let i = 0; i <= steps; i++) {\n    const fraction = i / steps\n\n    // Simple linear interpolation for fallback\n    const lat = source.lat + (destination.lat - source.lat) * fraction\n    const lon = source.lon + (destination.lon - source.lon) * fraction\n\n    points.push({ lat, lon })\n  }\n\n  return points\n}\n\nexport async function getGlobalRoute(source: RouteCoordinates, destination: RouteCoordinates): Promise<RoutePath> {\n  // Try OSRM first\n  const osrmRoute = await getRouteFromOSRM(source, destination)\n  if (osrmRoute && osrmRoute.length > 0) {\n    return osrmRoute\n  }\n\n  // Fallback to haversine-based polyline\n  return generateGreatCircleRoute(source, destination)\n}\n"],"names":[],"mappings":"AAAA,sDAAsD;;;;;;;;;AAS/C,eAAe,iBACpB,MAAwB,EACxB,WAA6B;IAE7B,IAAI;IACJ,IAAI;QACF,sCAAsC;QACtC,MAAM,aAAa,IAAI;QACvB,YAAY,WAAW,IAAM,WAAW,KAAK,IAAI,OAAM,mBAAmB;QAE1E,MAAM,MAAM,CAAC,8CAA8C,EAAE,OAAO,GAAG,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,CAAC,EAAE,YAAY,GAAG,CAAC,CAAC,EAAE,YAAY,GAAG,CAAC,iCAAiC,CAAC;QAE9J,MAAM,WAAW,MAAM,MAAM,KAAK;YAChC,SAAS;gBACP,cAAc;YAChB;YACA,QAAQ,WAAW,MAAM;QAC3B;QAEA,IAAI,WAAW,aAAa;QAE5B,IAAI,CAAC,SAAS,EAAE,EAAE,OAAO;QAEzB,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,IAAI,KAAK,MAAM,IAAI,KAAK,MAAM,CAAC,EAAE,EAAE;YACjC,MAAM,SAAS,KAAK,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,WAAW;YAClD,OAAO,OAAO,GAAG,CAAC,CAAC,IAAwB,CAAC;oBAC1C,KAAK,CAAC,CAAC,EAAE;oBACT,KAAK,CAAC,CAAC,EAAE;gBACX,CAAC;QACH;IACF,EAAE,OAAO,OAAO;QACd,mCAAmC;QACnC,IAAI,iBAAiB,SAAS,MAAM,IAAI,KAAK,cAAc;YACzD,QAAQ,IAAI,CAAC,mDAAmD,MAAM,OAAO;QAC/E;IACF,SAAU;QACR,mCAAmC;QACnC,IAAI,WAAW;YACb,aAAa;QACf;IACF;IACA,OAAO;AACT;AAEO,SAAS,yBAAyB,MAAwB,EAAE,WAA6B;IAC9F,MAAM,SAAoB,EAAE;IAC5B,MAAM,QAAQ,GAAG,kCAAkC;;IAEnD,IAAK,IAAI,IAAI,GAAG,KAAK,OAAO,IAAK;QAC/B,MAAM,WAAW,IAAI;QAErB,2CAA2C;QAC3C,MAAM,MAAM,OAAO,GAAG,GAAG,CAAC,YAAY,GAAG,GAAG,OAAO,GAAG,IAAI;QAC1D,MAAM,MAAM,OAAO,GAAG,GAAG,CAAC,YAAY,GAAG,GAAG,OAAO,GAAG,IAAI;QAE1D,OAAO,IAAI,CAAC;YAAE;YAAK;QAAI;IACzB;IAEA,OAAO;AACT;AAEO,eAAe,eAAe,MAAwB,EAAE,WAA6B;IAC1F,iBAAiB;IACjB,MAAM,YAAY,MAAM,iBAAiB,QAAQ;IACjD,IAAI,aAAa,UAAU,MAAM,GAAG,GAAG;QACrC,OAAO;IACT;IAEA,uCAAuC;IACvC,OAAO,yBAAyB,QAAQ;AAC1C"}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/components/map/interactive-map.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useEffect, useRef, useState } from \"react\"\nimport { MapPin } from \"lucide-react\"\nimport { loadWorldBorders, calculateBounds, projectToCanvas, drawGeoJSONBorders, generateRoutePolyline } from \"@/lib/map-utils\"\nimport { getGlobalRoute } from \"@/lib/routing-engine\"\n\ninterface MapPoint {\n  id: string\n  lat: number\n  lon: number\n  type: \"source\" | \"destination\" | \"safe_zone\" | \"conflict\" | \"water\" | \"hospital\"\n  label: string\n  risk?: number\n}\n\ninterface InteractiveMapProps {\n  onSourceSelect: (point: MapPoint) => void\n  onDestinationSelect: (point: MapPoint) => void\n  selectedRoute?: any\n  routeCoordinates?: {\n    source?: { lat: number; lon: number }\n    destination?: { lat: number; lon: number }\n  }\n}\n\nexport default function InteractiveMap({\n  onSourceSelect,\n  onDestinationSelect,\n  selectedRoute,\n  routeCoordinates,\n}: InteractiveMapProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const [mapPoints, setMapPoints] = useState<MapPoint[]>([\n    {\n      id: \"safe1\",\n      lat: 35.0,\n      lon: 40.0,\n      type: \"safe_zone\",\n      label: \"UN Camp Alpha\",\n      risk: 1,\n    },\n    {\n      id: \"safe2\",\n      lat: 34.8,\n      lon: 41.2,\n      type: \"safe_zone\",\n      label: \"Hospital Beta\",\n      risk: 2,\n    },\n    {\n      id: \"water1\",\n      lat: 35.2,\n      lon: 40.5,\n      type: \"water\",\n      label: \"Clean Water Point\",\n      risk: 3,\n    },\n    {\n      id: \"conflict1\",\n      lat: 35.5,\n      lon: 39.8,\n      type: \"conflict\",\n      label: \"Active Military\",\n      risk: 9,\n    },\n    {\n      id: \"conflict2\",\n      lat: 34.5,\n      lon: 41.8,\n      type: \"conflict\",\n      label: \"Checkpoint Zone\",\n      risk: 6,\n    },\n  ])\n\n  const [selectionMode, setSelectionMode] = useState<\"source\" | \"destination\" | null>(null)\n  const [worldBorders, setWorldBorders] = useState<any>(null)\n  const [routePolyline, setRoutePolyline] = useState<Array<{ lat: number; lon: number }>>([])\n\n  const dynamicMapPoints = [...mapPoints]\n  if (routeCoordinates?.source) {\n    dynamicMapPoints.push({\n      id: \"route_source\",\n      lat: routeCoordinates.source.lat,\n      lon: routeCoordinates.source.lon,\n      type: \"source\",\n      label: \"ðŸ“ Source\",\n      risk: 0,\n    })\n  }\n  if (routeCoordinates?.destination) {\n    dynamicMapPoints.push({\n      id: \"route_destination\",\n      lat: routeCoordinates.destination.lat,\n      lon: routeCoordinates.destination.lon,\n      type: \"destination\",\n      label: \"ðŸŽ¯ Destination\",\n      risk: 0,\n    })\n  }\n\n  // Load world borders on mount\n  useEffect(() => {\n    loadWorldBorders()\n      .then((borders) => {\n        if (borders) {\n          setWorldBorders(borders)\n        }\n      })\n      .catch((error) => {\n        // Silently fail - borders are optional\n        console.warn(\"[v0] Could not load world borders:\", error)\n      })\n  }, [])\n\n  // Load route polyline when coordinates change\n  useEffect(() => {\n    if (routeCoordinates?.source && routeCoordinates?.destination) {\n      const source = routeCoordinates.source\n      const destination = routeCoordinates.destination\n      getGlobalRoute(source, destination)\n        .then((route) => {\n          setRoutePolyline(route)\n        })\n        .catch((error) => {\n          // Fallback to simple polyline\n          console.warn(\"[v0] Could not load route from OSRM, using fallback:\", error)\n          const fallbackRoute = generateRoutePolyline(source, destination)\n          setRoutePolyline(fallbackRoute)\n        })\n    } else {\n      setRoutePolyline([])\n    }\n  }, [routeCoordinates])\n\n  // Map projection using utility function\n  const projectPoint = (lat: number, lon: number, width: number, height: number) => {\n    const bounds = calculateBounds(routeCoordinates?.source, routeCoordinates?.destination)\n    return projectToCanvas(lat, lon, bounds, width, height)\n  }\n\n  const getPointColor = (point: MapPoint) => {\n    switch (point.type) {\n      case \"safe_zone\":\n        return \"#00ff41\"\n      case \"conflict\":\n        return \"#ff1744\"\n      case \"water\":\n        return \"#0099ff\"\n      case \"hospital\":\n        return \"#ffd700\"\n      case \"source\":\n        return \"#00ffff\"\n      case \"destination\":\n        return \"#ff9800\"\n      default:\n        return \"#e0e6ff\"\n    }\n  }\n\n  const drawMap = () => {\n    const canvas = canvasRef.current\n    if (!canvas) return\n\n    const ctx = canvas.getContext(\"2d\")\n    if (!ctx) return\n\n    const width = canvas.width\n    const height = canvas.height\n\n    // Clear canvas\n    ctx.fillStyle = \"#0f1423\"\n    ctx.fillRect(0, 0, width, height)\n\n    // Calculate bounds\n    const bounds = calculateBounds(routeCoordinates?.source, routeCoordinates?.destination)\n\n    // Draw world borders if loaded\n    if (worldBorders) {\n      drawGeoJSONBorders(ctx, worldBorders, bounds, width, height)\n    }\n\n    // Draw grid\n    ctx.strokeStyle = \"rgba(0, 255, 65, 0.1)\"\n    ctx.lineWidth = 1\n    for (let i = 0; i <= 10; i++) {\n      const x = (i * width) / 10\n      const y = (i * height) / 10\n      ctx.beginPath()\n      ctx.moveTo(x, 0)\n      ctx.lineTo(x, height)\n      ctx.stroke()\n      ctx.beginPath()\n      ctx.moveTo(0, y)\n      ctx.lineTo(width, y)\n      ctx.stroke()\n    }\n\n    // Draw zones (background)\n    const safeZones = [\n      { lat: 35.0, lon: 40.0, radius: 0.5, type: \"safe\" },\n      { lat: 34.8, lon: 41.2, radius: 0.4, type: \"safe\" },\n    ]\n\n    safeZones.forEach((zone) => {\n      const { x, y } = projectPoint(zone.lat, zone.lon, width, height)\n      const radius = (zone.radius / 2) * width\n      ctx.fillStyle = \"rgba(0, 255, 65, 0.1)\"\n      ctx.beginPath()\n      ctx.arc(x, y, radius, 0, Math.PI * 2)\n      ctx.fill()\n      ctx.strokeStyle = \"rgba(0, 255, 65, 0.3)\"\n      ctx.lineWidth = 2\n      ctx.stroke()\n    })\n\n    // Draw danger zones\n    const dangerZones = [\n      { lat: 35.5, lon: 39.8, radius: 0.4, type: \"danger\" },\n      { lat: 34.5, lon: 41.8, radius: 0.3, type: \"danger\" },\n    ]\n\n    dangerZones.forEach((zone) => {\n      const { x, y } = projectPoint(zone.lat, zone.lon, width, height)\n      const radius = (zone.radius / 2) * width\n      ctx.fillStyle = \"rgba(255, 23, 68, 0.08)\"\n      ctx.beginPath()\n      ctx.arc(x, y, radius, 0, Math.PI * 2)\n      ctx.fill()\n      ctx.strokeStyle = \"rgba(255, 23, 68, 0.4)\"\n      ctx.lineWidth = 2\n      ctx.stroke()\n    })\n\n    dynamicMapPoints.forEach((point) => {\n      const { x, y } = projectPoint(point.lat, point.lon, width, height)\n      const color = getPointColor(point)\n\n      // Draw point with pulse\n      ctx.fillStyle = color + \"40\"\n      ctx.beginPath()\n      ctx.arc(x, y, 12, 0, Math.PI * 2)\n      ctx.fill()\n\n      ctx.fillStyle = color\n      ctx.beginPath()\n      ctx.arc(x, y, 6, 0, Math.PI * 2)\n      ctx.fill()\n\n      // Draw label\n      ctx.fillStyle = color\n      ctx.font = \"11px monospace\"\n      ctx.textAlign = \"center\"\n      ctx.fillText(point.label.substring(0, 12), x, y - 20)\n    })\n\n    // Draw route polyline if available\n    if (routePolyline.length > 0) {\n      ctx.strokeStyle = \"#0099ff\"\n      ctx.lineWidth = 3\n      ctx.setLineDash([])\n      ctx.beginPath()\n      \n      routePolyline.forEach((point, index) => {\n        const { x, y } = projectPoint(point.lat, point.lon, width, height)\n        if (index === 0) {\n          ctx.moveTo(x, y)\n        } else {\n          ctx.lineTo(x, y)\n        }\n      })\n      ctx.stroke()\n      \n      // Draw route start and end markers\n      if (routePolyline.length > 0) {\n        const start = projectPoint(routePolyline[0].lat, routePolyline[0].lon, width, height)\n        const end = projectPoint(routePolyline[routePolyline.length - 1].lat, routePolyline[routePolyline.length - 1].lon, width, height)\n        \n        // Start marker\n        ctx.fillStyle = \"#00ffff\"\n        ctx.beginPath()\n        ctx.arc(start.x, start.y, 8, 0, Math.PI * 2)\n        ctx.fill()\n        ctx.strokeStyle = \"#ffffff\"\n        ctx.lineWidth = 2\n        ctx.stroke()\n        \n        // End marker\n        ctx.fillStyle = \"#ff9800\"\n        ctx.beginPath()\n        ctx.arc(end.x, end.y, 8, 0, Math.PI * 2)\n        ctx.fill()\n        ctx.strokeStyle = \"#ffffff\"\n        ctx.lineWidth = 2\n        ctx.stroke()\n      }\n    } else if (selectedRoute || (routeCoordinates?.source && routeCoordinates?.destination)) {\n      // Fallback to simple line if polyline not loaded\n      ctx.strokeStyle = \"#0099ff\"\n      ctx.lineWidth = 3\n      ctx.setLineDash([5, 5])\n      ctx.beginPath()\n      const startLat = routeCoordinates?.source?.lat ?? selectedRoute?.sourceLat\n      const startLon = routeCoordinates?.source?.lon ?? selectedRoute?.sourceLon\n      const endLat = routeCoordinates?.destination?.lat ?? selectedRoute?.destLat\n      const endLon = routeCoordinates?.destination?.lon ?? selectedRoute?.destLon\n\n      if (startLat !== undefined && startLon !== undefined && endLat !== undefined && endLon !== undefined) {\n        const start = projectPoint(startLat, startLon, width, height)\n        const end = projectPoint(endLat, endLon, width, height)\n        ctx.moveTo(start.x, start.y)\n        ctx.lineTo(end.x, end.y)\n        ctx.stroke()\n      }\n      ctx.setLineDash([])\n    }\n  }\n\n  useEffect(() => {\n    drawMap()\n  }, [dynamicMapPoints, selectedRoute, routeCoordinates, worldBorders, routePolyline])\n\n  const handleCanvasClick = (e: React.MouseEvent<HTMLCanvasElement>) => {\n    if (!selectionMode) return\n\n    const canvas = canvasRef.current\n    if (!canvas) return\n\n    const rect = canvas.getBoundingClientRect()\n    const x = e.clientX - rect.left\n    const y = e.clientY - rect.top\n\n    // Check if clicked near a point\n    for (const point of mapPoints) {\n      const projected = projectPoint(point.lat, point.lon, canvas.width, canvas.height)\n      const distance = Math.sqrt((x - projected.x) ** 2 + (y - projected.y) ** 2)\n\n      if (distance < 20) {\n        if (selectionMode === \"source\") {\n          onSourceSelect(point)\n        } else {\n          onDestinationSelect(point)\n        }\n        setSelectionMode(null)\n        return\n      }\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col gap-3 h-full\">\n      <div className=\"flex gap-2\">\n        <button\n          onClick={() => setSelectionMode(selectionMode === \"source\" ? null : \"source\")}\n          className={`flex items-center gap-2 rounded-lg px-3 py-2 text-xs font-semibold transition ${\n            selectionMode === \"source\"\n              ? \"bg-primary text-primary-foreground\"\n              : \"border border-border bg-card text-foreground hover:bg-muted\"\n          }`}\n        >\n          <MapPin className=\"h-4 w-4\" />\n          {selectionMode === \"source\" ? \"CLICK TO SET SOURCE\" : \"SET SOURCE\"}\n        </button>\n\n        <button\n          onClick={() => setSelectionMode(selectionMode === \"destination\" ? null : \"destination\")}\n          className={`flex items-center gap-2 rounded-lg px-3 py-2 text-xs font-semibold transition ${\n            selectionMode === \"destination\"\n              ? \"bg-primary text-primary-foreground\"\n              : \"border border-border bg-card text-foreground hover:bg-muted\"\n          }`}\n        >\n          <MapPin className=\"h-4 w-4\" />\n          {selectionMode === \"destination\" ? \"CLICK TO SET DESTINATION\" : \"SET DESTINATION\"}\n        </button>\n      </div>\n\n      <canvas\n        ref={canvasRef}\n        width={800}\n        height={600}\n        onClick={handleCanvasClick}\n        className=\"flex-1 cursor-crosshair rounded-lg border border-border bg-card\"\n      />\n\n      {/* Legend */}\n      <div className=\"grid grid-cols-2 gap-2 text-xs\">\n        {[\n          { color: \"#00ff41\", label: \"Safe Zones\" },\n          { color: \"#ff1744\", label: \"Danger Zones\" },\n          { color: \"#0099ff\", label: \"Water Points\" },\n          { color: \"#ffd700\", label: \"Medical\" },\n          { color: \"#00ffff\", label: \"Source\" },\n          { color: \"#ff9800\", label: \"Destination\" },\n        ].map((item) => (\n          <div key={item.label} className=\"flex items-center gap-2 text-muted-foreground\">\n            <div className=\"h-3 w-3 rounded-full\" style={{ backgroundColor: item.color }} />\n            {item.label}\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 688, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/components/map/map-layer-controls.tsx"],"sourcesContent":["\"use client\"\n\nimport { AlertTriangle, Droplet, Heart, Home, MapPin, Wind, Zap } from \"lucide-react\"\n\ninterface MapLayerControlsProps {\n  activeLayers: string[]\n  onToggleLayer: (layerId: string) => void\n}\n\nexport default function MapLayerControls({ activeLayers, onToggleLayer }: MapLayerControlsProps) {\n  const layers = [\n    {\n      id: \"safe_zones\",\n      name: \"Safe Zones\",\n      icon: Home,\n      color: \"text-primary\",\n    },\n    {\n      id: \"conflict_zones\",\n      name: \"Conflict Zones\",\n      icon: AlertTriangle,\n      color: \"text-accent\",\n    },\n    {\n      id: \"water_points\",\n      name: \"Water Points\",\n      icon: Droplet,\n      color: \"text-secondary\",\n    },\n    {\n      id: \"hospitals\",\n      name: \"Hospitals\",\n      icon: Heart,\n      color: \"text-yellow-500\",\n    },\n    {\n      id: \"checkpoints\",\n      name: \"Checkpoints\",\n      icon: MapPin,\n      color: \"text-orange-400\",\n    },\n    {\n      id: \"weather\",\n      name: \"Weather Alerts\",\n      icon: Wind,\n      color: \"text-cyan-400\",\n    },\n    {\n      id: \"hazards\",\n      name: \"Natural Hazards\",\n      icon: Zap,\n      color: \"text-purple-400\",\n    },\n  ]\n\n  return (\n    <div className=\"flex flex-col gap-3 w-48\">\n      <div className=\"text-xs font-semibold text-primary uppercase\">Map Layers</div>\n\n      <div className=\"space-y-2\">\n        {layers.map((layer) => {\n          const Icon = layer.icon\n          const isActive = activeLayers.includes(layer.id)\n\n          return (\n            <button\n              key={layer.id}\n              onClick={() => onToggleLayer(layer.id)}\n              className={`flex w-full items-center gap-2 rounded-lg px-3 py-2 transition text-sm ${\n                isActive ? \"bg-muted border border-primary\" : \"border border-border bg-card hover:bg-muted\"\n              }`}\n            >\n              <input type=\"checkbox\" checked={isActive} readOnly className=\"h-4 w-4 cursor-pointer\" />\n              <Icon className={`h-4 w-4 ${layer.color}`} />\n              <span className=\"text-foreground\">{layer.name}</span>\n            </button>\n          )\n        })}\n      </div>\n\n      {/* Statistics */}\n      <div className=\"border-t border-border pt-3 space-y-2 text-xs\">\n        <div className=\"font-semibold text-primary\">ZONE STATS</div>\n        <div className=\"flex justify-between text-muted-foreground\">\n          <span>Safe Zones:</span>\n          <span className=\"text-primary font-semibold\">2</span>\n        </div>\n        <div className=\"flex justify-between text-muted-foreground\">\n          <span>Danger Areas:</span>\n          <span className=\"text-accent font-semibold\">5</span>\n        </div>\n        <div className=\"flex justify-between text-muted-foreground\">\n          <span>Resources:</span>\n          <span className=\"text-secondary font-semibold\">8</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;;;AASe,SAAS,iBAAiB,EAAE,YAAY,EAAE,aAAa,EAAyB;IAC7F,MAAM,SAAS;QACb;YACE,IAAI;YACJ,MAAM;YACN,MAAM,2MAAI;YACV,OAAO;QACT;QACA;YACE,IAAI;YACJ,MAAM;YACN,MAAM,yOAAa;YACnB,OAAO;QACT;QACA;YACE,IAAI;YACJ,MAAM;YACN,MAAM,mNAAO;YACb,OAAO;QACT;QACA;YACE,IAAI;YACJ,MAAM;YACN,MAAM,6MAAK;YACX,OAAO;QACT;QACA;YACE,IAAI;YACJ,MAAM;YACN,MAAM,oNAAM;YACZ,OAAO;QACT;QACA;YACE,IAAI;YACJ,MAAM;YACN,MAAM,0MAAI;YACV,OAAO;QACT;QACA;YACE,IAAI;YACJ,MAAM;YACN,MAAM,uMAAG;YACT,OAAO;QACT;KACD;IAED,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BAA+C;;;;;;0BAE9D,8OAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC;oBACX,MAAM,OAAO,MAAM,IAAI;oBACvB,MAAM,WAAW,aAAa,QAAQ,CAAC,MAAM,EAAE;oBAE/C,qBACE,8OAAC;wBAEC,SAAS,IAAM,cAAc,MAAM,EAAE;wBACrC,WAAW,CAAC,uEAAuE,EACjF,WAAW,mCAAmC,+CAC9C;;0CAEF,8OAAC;gCAAM,MAAK;gCAAW,SAAS;gCAAU,QAAQ;gCAAC,WAAU;;;;;;0CAC7D,8OAAC;gCAAK,WAAW,CAAC,QAAQ,EAAE,MAAM,KAAK,EAAE;;;;;;0CACzC,8OAAC;gCAAK,WAAU;0CAAmB,MAAM,IAAI;;;;;;;uBARxC,MAAM,EAAE;;;;;gBAWnB;;;;;;0BAIF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCAA6B;;;;;;kCAC5C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAK;;;;;;0CACN,8OAAC;gCAAK,WAAU;0CAA6B;;;;;;;;;;;;kCAE/C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAK;;;;;;0CACN,8OAAC;gCAAK,WAAU;0CAA4B;;;;;;;;;;;;kCAE9C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAK;;;;;;0CACN,8OAAC;gCAAK,WAAU;0CAA+B;;;;;;;;;;;;;;;;;;;;;;;;AAKzD"}},
    {"offset": {"line": 905, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/components/map/map-container.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport InteractiveMap from \"./interactive-map\"\nimport MapLayerControls from \"./map-layer-controls\"\n\ninterface MapContainerProps {\n  selectedRoute: any\n  routeCoordinates?: {\n    source?: { lat: number; lon: number }\n    destination?: { lat: number; lon: number }\n  }\n}\n\ninterface MapPoint {\n  id: string\n  lat: number\n  lon: number\n  type: string\n  label: string\n  risk?: number\n}\n\nexport default function MapContainer({ selectedRoute, routeCoordinates }: MapContainerProps) {\n  const [activeLayers, setActiveLayers] = useState<string[]>([\n    \"safe_zones\",\n    \"conflict_zones\",\n    \"water_points\",\n    \"hospitals\",\n  ])\n  const [sourcePoint, setSourcePoint] = useState<MapPoint | null>(null)\n  const [destPoint, setDestPoint] = useState<MapPoint | null>(null)\n\n  const toggleLayer = (layerId: string) => {\n    setActiveLayers((prev) => (prev.includes(layerId) ? prev.filter((l) => l !== layerId) : [...prev, layerId]))\n  }\n\n  return (\n    <div className=\"relative h-full w-full rounded-lg border border-border bg-card overflow-hidden\">\n      <div className=\"flex h-full gap-4 p-4\">\n        <div className=\"flex-1\">\n          <InteractiveMap\n            onSourceSelect={setSourcePoint}\n            onDestinationSelect={setDestPoint}\n            selectedRoute={selectedRoute}\n            routeCoordinates={routeCoordinates}\n          />\n        </div>\n\n        <MapLayerControls activeLayers={activeLayers} onToggleLayer={toggleLayer} />\n      </div>\n\n      {/* Selected Points Info */}\n      {(sourcePoint || destPoint) && (\n        <div className=\"absolute bottom-4 left-4 rounded-lg bg-card/90 p-3 backdrop-blur border border-border text-xs space-y-1\">\n          {sourcePoint && (\n            <div className=\"flex items-center gap-2 text-primary\">\n              <span className=\"font-semibold\">SOURCE:</span>\n              <span>{sourcePoint.label}</span>\n            </div>\n          )}\n          {destPoint && (\n            <div className=\"flex items-center gap-2 text-secondary\">\n              <span className=\"font-semibold\">DESTINATION:</span>\n              <span>{destPoint.label}</span>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAuBe,SAAS,aAAa,EAAE,aAAa,EAAE,gBAAgB,EAAqB;IACzF,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAW;QACzD;QACA;QACA;QACA;KACD;IACD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAkB;IAChE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAkB;IAE5D,MAAM,cAAc,CAAC;QACnB,gBAAgB,CAAC,OAAU,KAAK,QAAQ,CAAC,WAAW,KAAK,MAAM,CAAC,CAAC,IAAM,MAAM,WAAW;mBAAI;gBAAM;aAAQ;IAC5G;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,mJAAc;4BACb,gBAAgB;4BAChB,qBAAqB;4BACrB,eAAe;4BACf,kBAAkB;;;;;;;;;;;kCAItB,8OAAC,yJAAgB;wBAAC,cAAc;wBAAc,eAAe;;;;;;;;;;;;YAI9D,CAAC,eAAe,SAAS,mBACxB,8OAAC;gBAAI,WAAU;;oBACZ,6BACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,8OAAC;0CAAM,YAAY,KAAK;;;;;;;;;;;;oBAG3B,2BACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAgB;;;;;;0CAChC,8OAAC;0CAAM,UAAU,KAAK;;;;;;;;;;;;;;;;;;;;;;;;AAOpC"}},
    {"offset": {"line": 1038, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/lib/country-danger-levels.ts"],"sourcesContent":["// Country danger levels for route analysis\nexport interface CountryDangerLevel {\n  level: \"low\" | \"medium\" | \"high\" | \"critical\"\n  reason?: string\n}\n\nexport const COUNTRY_DANGER_LEVELS: Record<string, CountryDangerLevel> = {\n  // High conflict zones\n  Syria: { level: \"critical\", reason: \"Active conflict zones, military operations\" },\n  Ukraine: { level: \"critical\", reason: \"Active war zone, military conflict\" },\n  Yemen: { level: \"critical\", reason: \"Ongoing conflict, humanitarian crisis\" },\n  Afghanistan: { level: \"high\", reason: \"Security concerns, unstable regions\" },\n  Iraq: { level: \"high\", reason: \"Security risks in certain areas\" },\n  Sudan: { level: \"critical\", reason: \"Active conflict, civil unrest\" },\n  \"South Sudan\": { level: \"high\", reason: \"Intermittent conflict\" },\n  Somalia: { level: \"high\", reason: \"Security concerns\" },\n  \"Central African Republic\": { level: \"high\", reason: \"Ongoing conflict\" },\n  \"Democratic Republic of the Congo\": { level: \"high\", reason: \"Eastern regions have conflict\" },\n  Libya: { level: \"high\", reason: \"Political instability\" },\n  Mali: { level: \"high\", reason: \"Security concerns in northern regions\" },\n  Niger: { level: \"medium\", reason: \"Border security concerns\" },\n  \"Burkina Faso\": { level: \"high\", reason: \"Security concerns\" },\n  Myanmar: { level: \"high\", reason: \"Political instability, conflict\" },\n  Palestine: { level: \"high\", reason: \"Conflict zones, checkpoints\" },\n  Israel: { level: \"medium\", reason: \"Security concerns near borders\" },\n  \n  // Medium risk countries\n  Lebanon: { level: \"medium\", reason: \"Political instability, border concerns\" },\n  Turkey: { level: \"low\", reason: \"Generally safe, border regions may have concerns\" },\n  Jordan: { level: \"low\", reason: \"Generally stable\" },\n  Egypt: { level: \"medium\", reason: \"Sinai region has security concerns\" },\n  Pakistan: { level: \"medium\", reason: \"Border regions have security concerns\" },\n  Iran: { level: \"medium\", reason: \"Political situation, border concerns\" },\n  Venezuela: { level: \"medium\", reason: \"Economic crisis, political instability\" },\n  Colombia: { level: \"medium\", reason: \"Some regions have security concerns\" },\n  Mexico: { level: \"medium\", reason: \"Border regions have security concerns\" },\n  \n  // Generally safe countries\n  Poland: { level: \"low\", reason: \"Safe for refugees\" },\n  Germany: { level: \"low\", reason: \"Safe, refugee-friendly\" },\n  \"United Kingdom\": { level: \"low\", reason: \"Safe\" },\n  USA: { level: \"low\", reason: \"Safe\" },\n  Canada: { level: \"low\", reason: \"Safe\" },\n  France: { level: \"low\", reason: \"Safe\" },\n  Sweden: { level: \"low\", reason: \"Safe, refugee-friendly\" },\n  Norway: { level: \"low\", reason: \"Safe\" },\n  Greece: { level: \"low\", reason: \"Safe, refugee-friendly\" },\n  Italy: { level: \"low\", reason: \"Safe\" },\n  Spain: { level: \"low\", reason: \"Safe\" },\n  UAE: { level: \"low\", reason: \"Safe\" },\n  \"Saudi Arabia\": { level: \"low\", reason: \"Safe\" },\n  Kuwait: { level: \"low\", reason: \"Safe\" },\n  Qatar: { level: \"low\", reason: \"Safe\" },\n  Kenya: { level: \"low\", reason: \"Safe, refugee camps available\" },\n  Uganda: { level: \"low\", reason: \"Safe, refugee-friendly\" },\n  Ethiopia: { level: \"medium\", reason: \"Some regions have concerns\" },\n  Tanzania: { level: \"low\", reason: \"Safe\" },\n  Rwanda: { level: \"low\", reason: \"Safe\" },\n}\n\nexport function getCountryDangerLevel(countryName: string): CountryDangerLevel | null {\n  // Try exact match first\n  if (COUNTRY_DANGER_LEVELS[countryName]) {\n    return COUNTRY_DANGER_LEVELS[countryName]\n  }\n  \n  // Try case-insensitive match\n  const normalized = countryName.trim()\n  for (const [key, value] of Object.entries(COUNTRY_DANGER_LEVELS)) {\n    if (key.toLowerCase() === normalized.toLowerCase()) {\n      return value\n    }\n  }\n  \n  // Try partial match\n  for (const [key, value] of Object.entries(COUNTRY_DANGER_LEVELS)) {\n    if (normalized.toLowerCase().includes(key.toLowerCase()) || key.toLowerCase().includes(normalized.toLowerCase())) {\n      return value\n    }\n  }\n  \n  return null\n}\n\nexport function getDangerLevelForCoordinates(lat: number, lon: number): CountryDangerLevel | null {\n  // This is a simplified version - in production, you'd use reverse geocoding\n  // to get the country name from coordinates, then look it up\n  // For now, return null and let the route engine handle it\n  return null\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1266, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/lib/route-engine.ts"],"sourcesContent":["// Route Planning & AI Threat Assessment Engine\nimport { getCountryDangerLevel } from \"./country-danger-levels\"\n\ninterface RoutePoint {\n  lat: number\n  lon: number\n  type: \"source\" | \"destination\"\n}\n\ninterface TerritoryData {\n  lat: number\n  lon: number\n  terrain: \"flat\" | \"hilly\" | \"mountainous\" | \"water\"\n  conflict_level: number\n  weather_severity: number\n  water_availability: number\n  food_availability: number\n}\n\ninterface RouteAnalysis {\n  distance_km: number\n  duration_hours: number\n  duration_days: number\n  nights_required: number\n  survival_score: number\n  risk_level: \"LOW\" | \"MEDIUM\" | \"HIGH\" | \"CRITICAL\"\n  terrain_difficulty: \"EASY\" | \"MODERATE\" | \"DIFFICULT\" | \"EXTREME\"\n  conflict_intersections: number\n  water_score: number\n  food_score: number\n  weather_risk: number\n  danger_explanation: string\n  recommendations: string[]\n  estimated_calories_per_day: number\n  estimated_water_liters_per_day: number\n}\n\n// Simple haversine distance calculation\nexport function calculateDistance(lat1: number, lon1: number, lat2: number, lon2: number): number {\n  const R = 6371 // Earth's radius in km\n  const dLat = ((lat2 - lat1) * Math.PI) / 180\n  const dLon = ((lon2 - lon1) * Math.PI) / 180\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos((lat1 * Math.PI) / 180) * Math.cos((lat2 * Math.PI) / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2)\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a))\n  return R * c\n}\n\n// Generate synthetic territory data for route points\nfunction generateTerritoryData(lat: number, lon: number): TerritoryData {\n  // Simulated ML model approximation\n  const noise = Math.sin(lat * lon) * Math.cos(lat + lon)\n\n  return {\n    lat,\n    lon,\n    terrain: [\"flat\", \"hilly\", \"mountainous\"][Math.floor(Math.abs(noise * 3)) % 3] as any,\n    conflict_level: Math.max(1, Math.min(10, Math.floor((Math.sin(lat * 0.5) + Math.cos(lon * 0.5)) * 5 + 5))),\n    weather_severity: Math.max(0, Math.floor(Math.abs(Math.sin(lat - lon)) * 10 - 3)),\n    water_availability: Math.max(1, Math.floor((Math.cos(lat * lon) * 10 + 10) / 2)),\n    food_availability: Math.max(1, Math.floor((Math.sin(lat + lon) * 10 + 10) / 2)),\n  }\n}\n\n// Calculate average walking speed based on terrain\nfunction calculateWalkingSpeed(terrain: string): number {\n  switch (terrain) {\n    case \"flat\":\n      return 5 // km/h\n    case \"hilly\":\n      return 3 // km/h\n    case \"mountainous\":\n      return 2 // km/h\n    case \"water\":\n      return 1 // km/h (crossing required)\n    default:\n      return 4\n  }\n}\n\n// Main route analysis function\nexport function analyzeRoute(\n  source: RoutePoint,\n  destination: RoutePoint,\n  travelMode: \"walking\" | \"vehicle\",\n): RouteAnalysis {\n  const distance = calculateDistance(source.lat, source.lon, destination.lat, destination.lon)\n\n  // Generate route profile by sampling points\n  const routeSteps = 10\n  let totalConflict = 0\n  let totalWeatherRisk = 0\n  let totalWaterScore = 0\n  let totalFoodScore = 0\n  let conflictIntersections = 0\n  let terrainDifficulty = 0\n\n  for (let i = 0; i <= routeSteps; i++) {\n    const ratio = i / routeSteps\n    const stepLat = source.lat + (destination.lat - source.lat) * ratio\n    const stepLon = source.lon + (destination.lon - source.lon) * ratio\n\n    const data = generateTerritoryData(stepLat, stepLon)\n    totalConflict += data.conflict_level\n    totalWeatherRisk += data.weather_severity\n    totalWaterScore += data.water_availability\n    totalFoodScore += data.food_availability\n\n    if (data.conflict_level >= 6) {\n      conflictIntersections++\n    }\n\n    // Terrain difficulty scoring\n    if (data.terrain === \"mountainous\") terrainDifficulty += 3\n    else if (data.terrain === \"hilly\") terrainDifficulty += 2\n    else if (data.terrain === \"water\") terrainDifficulty += 4\n    else terrainDifficulty += 1\n  }\n\n  // Averages\n  const avgConflict = totalConflict / (routeSteps + 1)\n  const avgWeatherRisk = totalWeatherRisk / (routeSteps + 1)\n  const waterScore = Math.round((totalWaterScore / (routeSteps + 1)) * 10)\n  const foodScore = Math.round((totalFoodScore / (routeSteps + 1)) * 10)\n  const terrainDifficultyAvg = terrainDifficulty / (routeSteps + 1)\n\n  // Calculate duration\n  const avgTerrain = terrainDifficulty / (routeSteps + 1)\n  let terrainType: \"EASY\" | \"MODERATE\" | \"DIFFICULT\" | \"EXTREME\" = \"MODERATE\"\n  let speed = 4 // default km/h\n  if (travelMode === \"vehicle\") {\n    speed = 40\n    terrainType = \"EASY\"\n  } else if (avgTerrain < 1.5) {\n    speed = 5\n    terrainType = \"EASY\"\n  } else if (avgTerrain < 2.5) {\n    speed = 3\n    terrainType = \"MODERATE\"\n  } else if (avgTerrain < 3.5) {\n    speed = 2\n    terrainType = \"DIFFICULT\"\n  } else {\n    speed = 1\n    terrainType = \"EXTREME\"\n  }\n\n  const duration_hours = distance / speed\n  const duration_days = Math.ceil(duration_hours / 8) // 8 hours walking per day\n  const nights_required = Math.max(0, duration_days - 1)\n\n  // Survival Score calculation (0-100)\n  const conflictScore = Math.max(0, 100 - avgConflict * 8)\n  const weatherScore = Math.max(0, 100 - avgWeatherRisk * 6)\n  const resourceScore = (waterScore + foodScore) / 2\n  const survivalScore = Math.round(conflictScore * 0.4 + weatherScore * 0.3 + resourceScore * 0.3)\n\n  // Risk Level\n  let riskLevel: \"LOW\" | \"MEDIUM\" | \"HIGH\" | \"CRITICAL\" = \"LOW\"\n  if (survivalScore < 30) riskLevel = \"CRITICAL\"\n  else if (survivalScore < 50) riskLevel = \"HIGH\"\n  else if (survivalScore < 75) riskLevel = \"MEDIUM\"\n\n  // Calorie and water calculations\n  const estimatedCaloriesPerDay = travelMode === \"walking\" ? 2500 : 2000\n  const estimatedWaterPerDay = 3 // liters, adjusted for weather\n  const adjustedWaterPerDay = estimatedWaterPerDay + (avgWeatherRisk > 7 ? 2 : 0) + (duration_hours > 24 ? 1 : 0)\n\n  // Check country danger levels along route (simplified - check midpoint)\n  const midLat = source.lat + (destination.lat - source.lat) * 0.5\n  const midLon = source.lon + (destination.lon - source.lon) * 0.5\n  // In production, you'd reverse geocode to get country names, but for now we'll add warnings based on known dangerous regions\n  const dangerousCountries: string[] = []\n  if (midLat >= 33 && midLat <= 37 && midLon >= 35 && midLon <= 42) {\n    // Middle East region\n    dangerousCountries.push(\"Syria\", \"Iraq\", \"Lebanon\")\n  }\n  if (midLat >= 48 && midLat <= 52 && midLon >= 22 && midLon <= 40) {\n    // Ukraine region\n    dangerousCountries.push(\"Ukraine\")\n  }\n\n  // Generate recommendations\n  const recommendations: string[] = []\n  if (survivalScore < 50) recommendations.push(\"âš ï¸ High risk route - consider alternatives\")\n  if (conflictIntersections > 3) recommendations.push(\"âš ï¸ Multiple conflict zones detected - use evasion tactics\")\n  if (waterScore < 4) recommendations.push(\"ðŸš¨ Water scarcity - bring maximum water containers\")\n  if (foodScore < 4) recommendations.push(\"ðŸš¨ Food scarcity - carry high-calorie supplies\")\n  if (nights_required > 5) recommendations.push(\"ðŸ•ï¸ Long journey - extra shelter/blankets needed\")\n  if (terrainType === \"EXTREME\") recommendations.push(\"â›ï¸ Extreme terrain - professional equipment required\")\n  if (avgWeatherRisk > 6) recommendations.push(\"â›ˆï¸ Severe weather risk - check daily forecasts\")\n  if (waterScore > 6 && foodScore > 6) recommendations.push(\"âœ… Good resource availability on route\")\n  if (survivalScore > 75) recommendations.push(\"âœ… Relatively safer route - standard supplies sufficient\")\n  \n  // Add country danger warnings\n  dangerousCountries.forEach((country) => {\n    const dangerLevel = getCountryDangerLevel(country)\n    if (dangerLevel && (dangerLevel.level === \"high\" || dangerLevel.level === \"critical\")) {\n      recommendations.push(`ðŸš¨ Route passes through ${country} (${dangerLevel.level.toUpperCase()} risk) - ${dangerLevel.reason || \"Exercise extreme caution\"}`)\n    }\n  })\n\n  // Danger explanation\n  let dangerExplanation = `Route analysis: ${distance.toFixed(1)} km across `\n  if (terrainType === \"EXTREME\") dangerExplanation += \"extreme terrain. \"\n  else if (terrainType === \"DIFFICULT\") dangerExplanation += \"difficult terrain. \"\n  else dangerExplanation += \"varied terrain. \"\n\n  if (avgConflict > 6) dangerExplanation += \"High conflict presence. \"\n  if (avgWeatherRisk > 6) dangerExplanation += \"Severe weather conditions. \"\n  if (waterScore < 3) dangerExplanation += \"Limited water sources. \"\n  if (foodScore < 3) dangerExplanation += \"Limited food availability. \"\n\n  return {\n    distance_km: Number.parseFloat(distance.toFixed(1)),\n    duration_hours: Number.parseFloat(duration_hours.toFixed(1)),\n    duration_days,\n    nights_required,\n    survival_score: Math.max(0, Math.min(100, survivalScore)),\n    risk_level: riskLevel,\n    terrain_difficulty: terrainType,\n    conflict_intersections: conflictIntersections, // Declared variable here\n    water_score: waterScore,\n    food_score: foodScore,\n    weather_risk: avgWeatherRisk,\n    danger_explanation: dangerExplanation,\n    recommendations,\n    estimated_calories_per_day: estimatedCaloriesPerDay,\n    estimated_water_liters_per_day: Number.parseFloat(adjustedWaterPerDay.toFixed(1)),\n  }\n}\n\n// Find alternate routes with different risk profiles\nexport function findAlternateRoutes(\n  source: RoutePoint,\n  destination: RoutePoint,\n  travelMode: \"walking\" | \"vehicle\",\n): RouteAnalysis[] {\n  const routes: RouteAnalysis[] = []\n\n  // Generate 3 alternative routes with slight variations\n  for (let i = 0; i < 3; i++) {\n    const variance = 0.1 + i * 0.05\n    const altDest = {\n      lat: destination.lat + (Math.random() - 0.5) * variance,\n      lon: destination.lon + (Math.random() - 0.5) * variance,\n    }\n    routes.push(analyzeRoute(source, altDest, travelMode))\n  }\n\n  return routes.sort((a, b) => b.survival_score - a.survival_score)\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1472, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/lib/export-utils.ts"],"sourcesContent":["// Export utilities for PDF, PNG, and ZIP downloads\n\nexport async function generateSurvivalPDF(data: {\n  routeSummary: string\n  supplies: string[]\n  weatherWarnings: string[]\n  hazardZones: string[]\n  waterPoints: string[]\n  emergencyContacts: string[]\n}): Promise<Blob> {\n  // Simple text-based PDF generation\n  const lines: string[] = [\n    \"SURVIVAL PACK EXPORT\",\n    \"=\".repeat(50),\n    \"\",\n    \"ROUTE SUMMARY:\",\n    data.routeSummary,\n    \"\",\n    \"SUPPLIES:\",\n    ...data.supplies.map((s) => `- ${s}`),\n    \"\",\n    \"WEATHER WARNINGS:\",\n    ...data.weatherWarnings.map((w) => `- ${w}`),\n    \"\",\n    \"HAZARD ZONES:\",\n    ...data.hazardZones.map((h) => `- ${h}`),\n    \"\",\n    \"CLEAN WATER POINTS:\",\n    ...data.waterPoints.map((p) => `- ${p}`),\n    \"\",\n    \"EMERGENCY CONTACTS:\",\n    ...data.emergencyContacts.map((c) => `- ${c}`),\n    \"\",\n    \"Generated by SafeRoute\",\n  ]\n\n  const textContent = lines.join(\"\\n\")\n\n  // Create simple PDF with text\n  const pdfContent = createSimplePDF(textContent)\n  return new Blob([pdfContent], { type: \"application/pdf\" })\n}\n\nfunction createSimplePDF(text: string): string {\n  const lines = text.split(\"\\n\")\n  let yPosition = 750\n  let content = \"\"\n\n  lines.forEach((line) => {\n    content += `BT /F1 12 Tf 50 ${yPosition} Td (${escapePDFText(line)}) Tj ET\\n`\n    yPosition -= 15\n  })\n\n  const stream = `BT\n/F1 12 Tf\n50 750 Td\n${lines.map((line, i) => `(${escapePDFText(line)}) Tj T* `).join(\"\")}\nET`\n\n  return (\n    `%PDF-1.4\n1 0 obj\n<< /Type /Catalog /Pages 2 0 R >>\nendobj\n2 0 obj\n<< /Type /Pages /Kids [3 0 R] /Count 1 >>\nendobj\n3 0 obj\n<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Contents 4 0 R /Resources << /Font << /F1 5 0 R >> >> >>\nendobj\n4 0 obj\n<< /Length ${stream.length} >>\nstream\n${stream}\nendstream\nendobj\n5 0 obj\n<< /Type /Font /Subtype /Type1 /BaseFont /Helvetica >>\nendobj\nxref\n0 6\n0000000000 65535 f\n0000000009 00000 n\n0000000058 00000 n\n0000000115 00000 n\n0000000214 00000 n\n0000000${(214 + stream.length + 50).toString().padStart(6, \"0\")} 00000 n\ntrailer\n<< /Size 6 /Root 1 0 R >>\nstartxref\n${214 + stream.length + 100}\n%%EOF` + \"\\n\"\n  )\n}\n\nfunction escapePDFText(text: string): string {\n  return text.replace(/\\\\/g, \"\\\\\\\\\").replace(/$$/g, \"\\\\(\").replace(/$$/g, \"\\\\)\")\n}\n\nexport function exportMapAsPNG(canvas: HTMLCanvasElement): Blob {\n  return new Promise((resolve) => {\n    canvas.toBlob((blob) => {\n      resolve(blob || new Blob())\n    }, \"image/png\")\n  })\n}\n\nexport async function createOfflineZip(\n  routeJSON: any,\n  suppliesJSON: any,\n  pdfBlob: Blob,\n  pngBlob: Blob,\n  translationsJSON: any,\n): Promise<Blob> {\n  const files: { name: string; content: string | Blob }[] = [\n    { name: \"route.json\", content: JSON.stringify(routeJSON, null, 2) },\n    { name: \"supplies.json\", content: JSON.stringify(suppliesJSON, null, 2) },\n    { name: \"translations.json\", content: JSON.stringify(translationsJSON, null, 2) },\n    { name: \"map-snapshot.png\", content: pngBlob },\n    { name: \"survival-guide.pdf\", content: pdfBlob },\n  ]\n\n  // Simple ZIP creation using blob concatenation\n  const zipBlob = new Blob(\n    files.map((f) => f.content),\n    { type: \"application/zip\" },\n  )\n  return zipBlob\n}\n\nexport function downloadBlob(blob: Blob, filename: string) {\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement(\"a\")\n  a.href = url\n  a.download = filename\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n  URL.revokeObjectURL(url)\n}\n\n// Generate Offline Emergency Protocols PDF\nexport async function generateEmergencyProtocolsPDF(): Promise<Blob> {\n  const content = `\nOFFLINE EMERGENCY SURVIVAL PROTOCOLS\n=====================================\n\nGenerated by Refugee Survival App\n\nFOOD SURVIVAL\n-------------\n1. Water Purification:\n   - Boil water for 1 minute (3 minutes at high altitude)\n   - Use water purification tablets if available\n   - Filter through clean cloth to remove debris\n   - Avoid stagnant water - prefer running water sources\n\n2. Safe Food Sources:\n   - Only eat plants you can positively identify\n   - Avoid wild mushrooms unless expert\n   - Cook all meat thoroughly\n   - High-calorie foods: nuts, dried fruits, energy bars\n   - Look for food distribution points (WFP, Red Cross)\n\n3. Food Storage:\n   - Keep food in sealed containers\n   - Protect from animals and insects\n   - Rotate food supplies (first in, first out)\n\nWATER PURIFICATION\n------------------\n1. Boiling Method:\n   - Bring water to rolling boil for 1 minute\n   - Let cool before drinking\n   - Most effective method\n\n2. Chemical Treatment:\n   - Use water purification tablets\n   - Follow package instructions\n   - Wait recommended time before drinking\n\n3. Filtration:\n   - Use clean cloth or commercial filter\n   - Remove visible debris\n   - Still needs boiling or chemical treatment\n\n4. Finding Water:\n   - Rivers and streams (needs purification)\n   - Collect rainwater in clean containers\n   - Morning dew on plants\n   - Avoid stagnant or contaminated sources\n\nSHELTER\n-------\n1. Building Shelter:\n   - Find location before dark\n   - Use natural materials (branches, leaves)\n   - Build lean-to structure\n   - Keep shelter well-ventilated\n\n2. Location:\n   - Avoid low-lying areas (flood risk)\n   - Stay away from conflict zones\n   - Look for natural protection (caves, overhangs)\n   - Stay dry - use plastic/tarp if available\n\n3. Official Shelters:\n   - Contact UNHCR for refugee camps\n   - Red Cross emergency shelters\n   - Local NGO shelters\n\nFIRST AID\n---------\n1. Wound Care:\n   - Clean wounds with clean water\n   - Cover with clean bandage\n   - Keep wounds dry\n   - Seek medical help for serious injuries\n\n2. Common Issues:\n   - Dehydration: drink water regularly\n   - Hypothermia: stay dry and warm\n   - Heat exhaustion: rest in shade, drink water\n   - Diarrhea: stay hydrated, seek medical help\n\n3. Medical Help:\n   - MSF (MÃ©decins Sans FrontiÃ¨res) hospitals\n   - Red Cross medical facilities\n   - UNHCR health services\n   - Local hospitals\n\n4. First Aid Kit Essentials:\n   - Bandages and gauze\n   - Antiseptic wipes\n   - Pain relievers\n   - Water purification tablets\n   - Medical tape\n\nEMERGENCY CONTACTS\n------------------\n- UNHCR: Contact local office\n- Red Cross/Red Crescent: Local office\n- MSF: Local MSF office\n- Emergency services: Local number\n- NGOs: Check directory in app\n\nIMPORTANT REMINDERS\n-------------------\n- Stay hydrated (2-3 liters water per day)\n- Keep documents safe and dry\n- Travel during daylight when possible\n- Avoid conflict zones\n- Register with UNHCR for protection\n- Keep emergency contacts accessible\n- Trust official aid organizations\n\nThis guide is for emergency situations only.\nSeek professional medical help for serious conditions.\nAlways prioritize safety and follow local authorities' guidance.\n\nGenerated: ${new Date().toLocaleString()}\n  `.trim()\n\n  return generateSurvivalPDF({\n    routeSummary: \"Offline Emergency Survival Protocols\",\n    supplies: [\n      \"Water: 2-3 liters per day minimum\",\n      \"Food: High-calorie, non-perishable\",\n      \"First aid kit\",\n      \"Water purification tablets\",\n      \"Shelter materials\",\n    ],\n    weatherWarnings: [\n      \"Check weather before traveling\",\n      \"Avoid extreme weather conditions\",\n      \"Stay dry and warm\",\n    ],\n    hazardZones: [\n      \"Avoid conflict zones\",\n      \"Check country danger levels\",\n      \"Stay on safe routes\",\n    ],\n    waterPoints: [\n      \"Rivers and streams (purify first)\",\n      \"Rainwater collection\",\n      \"Official water distribution points\",\n    ],\n    emergencyContacts: [\n      \"UNHCR\",\n      \"Red Cross/Red Crescent\",\n      \"MSF\",\n      \"Local emergency services\",\n    ],\n  })\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1771, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/components/route/route-analyzer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef, useCallback } from \"react\"\nimport { Droplet, Utensils, AlertCircle, Download } from \"lucide-react\"\nimport { analyzeRoute } from \"@/lib/route-engine\"\nimport { downloadBlob, generateSurvivalPDF, exportMapAsPNG, createOfflineZip } from \"@/lib/export-utils\"\n\ninterface RouteAnalyzerProps {\n  source?: { lat: number; lon: number }\n  destination?: { lat: number; lon: number }\n  travelMode: \"walking\" | \"vehicle\"\n  onAnalysisComplete?: (analysis: any) => void\n}\n\nexport default function RouteAnalyzer({ source, destination, travelMode, onAnalysisComplete }: RouteAnalyzerProps) {\n  const [analysis, setAnalysis] = useState<any>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [isExporting, setIsExporting] = useState(false)\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n\n  const memoizedOnAnalysisComplete = useCallback(\n    (result: any) => {\n      onAnalysisComplete?.(result)\n    },\n    [onAnalysisComplete],\n  )\n\n  useEffect(() => {\n    if (source && destination) {\n      setIsLoading(true)\n      // Keep previous analysis visible during loading to prevent flickering\n      const timer = setTimeout(() => {\n        const result = analyzeRoute(source, destination, travelMode)\n        setAnalysis(result)\n        memoizedOnAnalysisComplete(result)\n        setIsLoading(false)\n      }, 800)\n      return () => clearTimeout(timer)\n    }\n  }, [source, destination, travelMode, memoizedOnAnalysisComplete])\n\n  const handleDownloadSurvivalPack = async () => {\n    if (!analysis) return\n    setIsExporting(true)\n\n    try {\n      const pdfBlob = await generateSurvivalPDF({\n        routeSummary: `From (${source?.lat}, ${source?.lon}) to (${destination?.lat}, ${destination?.lon}). Distance: ${analysis.distance_km}km, Duration: ${analysis.duration_days}d, Risk: ${analysis.risk_level}`,\n        supplies: [\n          `Water: ${analysis.estimated_water_liters_per_day}L/day Ã— ${analysis.duration_days} days`,\n          `Food: ${analysis.estimated_calories_per_day} cal/day`,\n          \"First aid kit\",\n          \"Shelter materials\",\n          \"Navigation equipment\",\n        ],\n        weatherWarnings: analysis.recommendations.filter((r: string) => r.includes(\"â›ˆï¸\") || r.includes(\"âš ï¸\")),\n        hazardZones: [\n          `Conflict intersections: ${analysis.conflict_intersections}`,\n          `Terrain: ${analysis.terrain_difficulty}`,\n          `Weather risk: ${analysis.weather_risk.toFixed(1)}/10`,\n        ],\n        waterPoints: [\"Query OSM for water sources along route\", \"Camp near rivers/streams\", \"Collect rainwater\"],\n        emergencyContacts: [\"Local NGOs\", \"Red Cross/Red Crescent\", \"UN agencies\", \"Border crossing officials\"],\n      })\n\n      downloadBlob(pdfBlob, \"survival-pack.pdf\")\n    } catch (error) {\n      console.error(\"[v0] Error generating PDF:\", error)\n    } finally {\n      setIsExporting(false)\n    }\n  }\n\n  const handleDownloadMap = async () => {\n    if (!canvasRef.current) return\n    setIsExporting(true)\n\n    try {\n      const blob = await exportMapAsPNG(canvasRef.current)\n      downloadBlob(blob, \"map-snapshot.png\")\n    } catch (error) {\n      console.error(\"[v0] Error exporting map:\", error)\n    } finally {\n      setIsExporting(false)\n    }\n  }\n\n  const handleDownloadOfflinePack = async () => {\n    if (!analysis) return\n    setIsExporting(true)\n\n    try {\n      const pdfBlob = await generateSurvivalPDF({\n        routeSummary: `From (${source?.lat}, ${source?.lon}) to (${destination?.lat}, ${destination?.lon}). Distance: ${analysis.distance_km}km`,\n        supplies: [\n          `Water: ${analysis.estimated_water_liters_per_day}L/day`,\n          `Food: ${analysis.estimated_calories_per_day} cal/day`,\n        ],\n        weatherWarnings: analysis.recommendations,\n        hazardZones: [`Conflict: ${analysis.conflict_intersections}`],\n        waterPoints: [\"Rivers\", \"Streams\", \"Wells\"],\n        emergencyContacts: [\"NGOs\", \"Red Cross\"],\n      })\n\n      // Map PNG (simulated)\n      const mapPngBlob = new Blob([\"map data\"], { type: \"image/png\" })\n\n      // Create ZIP\n      const zipBlob = await createOfflineZip(\n        { source, destination, analysis },\n        {\n          water: analysis.estimated_water_liters_per_day,\n          calories: analysis.estimated_calories_per_day,\n        },\n        pdfBlob,\n        mapPngBlob,\n        {\n          arabic: \"Emergency phrases\",\n          kurdish: \"Emergency phrases\",\n          turkish: \"Emergency phrases\",\n          farsi: \"Emergency phrases\",\n        },\n      )\n\n      downloadBlob(zipBlob, \"offline-pack.zip\")\n    } catch (error) {\n      console.error(\"[v0] Error creating ZIP:\", error)\n    } finally {\n      setIsExporting(false)\n    }\n  }\n\n  const getRiskColor = (level: string) => {\n    switch (level) {\n      case \"LOW\":\n        return \"border-primary text-primary bg-primary/10\"\n      case \"MEDIUM\":\n        return \"border-yellow-500 text-yellow-400 bg-yellow-500/10\"\n      case \"HIGH\":\n        return \"border-orange-500 text-orange-400 bg-orange-500/10\"\n      case \"CRITICAL\":\n        return \"border-accent text-accent bg-accent/10\"\n      default:\n        return \"border-muted text-muted-foreground bg-muted/10\"\n    }\n  }\n\n  if (!source || !destination) {\n    return (\n      <div className=\"rounded-lg border border-border bg-card p-4 text-center text-sm text-muted-foreground\">\n        Enter source and destination to analyze\n      </div>\n    )\n  }\n\n  if (isLoading && !analysis) {\n    return (\n      <div className=\"flex items-center justify-center gap-3 rounded-lg border border-border bg-card/50 p-6\">\n        <div className=\"h-5 w-5 animate-spin rounded-full border-2 border-primary border-t-transparent\" />\n        <span className=\"text-sm text-muted-foreground\">Analyzing global route...</span>\n      </div>\n    )\n  }\n\n  // Show loading overlay while keeping previous analysis visible\n  const renderContent = () => (\n    <div className=\"space-y-4 rounded-lg border border-border bg-card p-5\">\n      {/* Header with Survival Score */}\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"font-semibold text-foreground\">ROUTE ANALYSIS</h3>\n        <div className={`rounded-lg px-3 py-1 text-sm font-bold border ${getRiskColor(analysis.risk_level)}`}>\n          RISK: {analysis.risk_level}\n        </div>\n      </div>\n\n      {/* Survival Score */}\n      <div className=\"rounded-lg bg-muted/30 p-4 border border-muted/50\">\n        <div className=\"mb-2 flex items-center justify-between\">\n          <span className=\"text-xs font-semibold text-secondary\">SURVIVAL PROBABILITY</span>\n          <span className=\"text-2xl font-bold text-primary\">{analysis.survival_score}%</span>\n        </div>\n        <div className=\"h-2 w-full overflow-hidden rounded-full bg-muted/50\">\n          <div\n            className=\"h-full bg-gradient-to-r from-primary to-secondary transition-all duration-500\"\n            style={{ width: `${analysis.survival_score}%` }}\n          />\n        </div>\n      </div>\n\n      {/* Basic Stats */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        <div className=\"rounded-lg border border-border bg-muted/30 p-3\">\n          <p className=\"text-xs text-muted-foreground\">DISTANCE</p>\n          <p className=\"text-lg font-bold text-foreground\">{analysis.distance_km} km</p>\n        </div>\n        <div className=\"rounded-lg border border-border bg-muted/30 p-3\">\n          <p className=\"text-xs text-muted-foreground\">DURATION</p>\n          <p className=\"text-lg font-bold text-foreground\">\n            {analysis.duration_days}d {Math.round(analysis.duration_hours % 8)}h\n          </p>\n        </div>\n      </div>\n\n      {/* Terrain and Conflicts */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        <div className=\"rounded-lg border border-border bg-muted/30 p-3\">\n          <p className=\"text-xs text-muted-foreground\">TERRAIN</p>\n          <p className=\"text-sm font-semibold text-foreground\">{analysis.terrain_difficulty}</p>\n        </div>\n        <div className=\"rounded-lg border border-border bg-muted/30 p-3\">\n          <p className=\"text-xs text-muted-foreground\">CONFLICT AREAS</p>\n          <p className=\"text-sm font-semibold text-accent\">{analysis.conflict_intersections}</p>\n        </div>\n      </div>\n\n      {/* Resource Scores */}\n      <div className=\"space-y-2\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n            <Droplet className=\"h-4 w-4 text-secondary\" />\n            Water Availability\n          </div>\n          <span className=\"text-sm font-semibold text-secondary\">{analysis.water_score}/10</span>\n        </div>\n        <div className=\"h-1.5 w-full rounded-full bg-muted/50\">\n          <div\n            className=\"h-full rounded-full bg-secondary\"\n            style={{ width: `${(analysis.water_score / 10) * 100}%` }}\n          />\n        </div>\n      </div>\n\n      <div className=\"space-y-2\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n            <Utensils className=\"h-4 w-4 text-yellow-500\" />\n            Food Availability\n          </div>\n          <span className=\"text-sm font-semibold text-yellow-500\">{analysis.food_score}/10</span>\n        </div>\n        <div className=\"h-1.5 w-full rounded-full bg-muted/50\">\n          <div\n            className=\"h-full rounded-full bg-yellow-500\"\n            style={{ width: `${(analysis.food_score / 10) * 100}%` }}\n          />\n        </div>\n      </div>\n\n      {/* Danger Explanation */}\n      <div className=\"flex gap-2 rounded-lg border border-yellow-500/30 bg-yellow-500/10 p-3\">\n        <AlertCircle className=\"h-4 w-4 flex-shrink-0 text-yellow-500 mt-0.5\" />\n        <p className=\"text-xs text-yellow-200\">{analysis.danger_explanation}</p>\n      </div>\n\n      {/* Recommendations */}\n      {analysis.recommendations.length > 0 && (\n        <div className=\"space-y-2\">\n          <p className=\"text-xs font-semibold text-primary\">RECOMMENDATIONS:</p>\n          <div className=\"space-y-1\">\n            {analysis.recommendations.map((rec: string, i: number) => (\n              <div key={i} className=\"flex gap-2 text-xs text-muted-foreground\">\n                <span className=\"flex-shrink-0\">â€¢</span>\n                <span>{rec}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Supply Estimates */}\n      <div className=\"border-t border-border pt-3 space-y-2\">\n        <p className=\"text-xs font-semibold text-secondary\">ESTIMATED SUPPLY NEEDS:</p>\n        <div className=\"grid grid-cols-2 gap-2 text-xs\">\n          <div className=\"rounded-lg bg-muted/30 p-2 border border-border\">\n            <p className=\"text-muted-foreground\">Calories/day</p>\n            <p className=\"font-semibold text-foreground\">{analysis.estimated_calories_per_day}</p>\n          </div>\n          <div className=\"rounded-lg bg-muted/30 p-2 border border-border\">\n            <p className=\"text-muted-foreground\">Water/day</p>\n            <p className=\"font-semibold text-foreground\">{analysis.estimated_water_liters_per_day}L</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Export Buttons */}\n      <div className=\"border-t border-border pt-3 space-y-2\">\n        <p className=\"text-xs font-semibold text-primary mb-2\">DOWNLOAD:</p>\n        <button\n          onClick={handleDownloadSurvivalPack}\n          disabled={isExporting}\n          className=\"w-full flex items-center justify-center gap-2 rounded-lg border border-primary bg-primary/10 hover:bg-primary/20 text-primary px-3 py-2 text-sm font-semibold transition disabled:opacity-50\"\n        >\n          <Download className=\"h-4 w-4\" />\n          {isExporting ? \"Exporting...\" : \"Download Survival Pack (PDF)\"}\n        </button>\n        <button\n          onClick={handleDownloadMap}\n          disabled={isExporting}\n          className=\"w-full flex items-center justify-center gap-2 rounded-lg border border-secondary bg-secondary/10 hover:bg-secondary/20 text-secondary px-3 py-2 text-sm font-semibold transition disabled:opacity-50\"\n        >\n          <Download className=\"h-4 w-4\" />\n          {isExporting ? \"Exporting...\" : \"Download Map Snapshot (PNG)\"}\n        </button>\n        <button\n          onClick={handleDownloadOfflinePack}\n          disabled={isExporting}\n          className=\"w-full flex items-center justify-center gap-2 rounded-lg border border-accent bg-accent/10 hover:bg-accent/20 text-accent px-3 py-2 text-sm font-semibold transition disabled:opacity-50\"\n        >\n          <Download className=\"h-4 w-4\" />\n          {isExporting ? \"Exporting...\" : \"Download Full Offline Pack (ZIP)\"}\n        </button>\n      </div>\n    </div>\n  )\n\n  if (isLoading && analysis) {\n    return (\n      <div className=\"relative\">\n        {renderContent()}\n        <div className=\"absolute inset-0 flex items-center justify-center bg-card/80 backdrop-blur-sm z-10 rounded-lg\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"h-5 w-5 animate-spin rounded-full border-2 border-primary border-t-transparent\" />\n            <span className=\"text-sm text-muted-foreground\">Updating analysis...</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  if (!analysis) {\n    return (\n      <div className=\"rounded-lg border border-border bg-card p-4 text-center text-sm text-muted-foreground\">\n        Enter source and destination to analyze\n      </div>\n    )\n  }\n\n  return renderContent()\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2596, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/lib/geocoder.ts"],"sourcesContent":["// Global geocoding and autocomplete using OpenStreetMap Nominatim API\n\nexport interface GeocodingResult {\n  name: string\n  lat: number\n  lon: number\n  type: string\n  display_name: string\n}\n\nexport interface AutocompleteResult {\n  name: string\n  lat: number\n  lon: number\n  type: string\n}\n\nexport function parseCoordinates(input: string): { lat: number; lon: number } | null {\n  const trimmed = input.trim()\n  const match = trimmed.match(/^(-?\\d+\\.?\\d*)\\s*,\\s*(-?\\d+\\.?\\d*)$/)\n  if (match) {\n    const lat = Number.parseFloat(match[1])\n    const lon = Number.parseFloat(match[2])\n    if (lat >= -90 && lat <= 90 && lon >= -180 && lon <= 180) {\n      return { lat, lon }\n    }\n  }\n  return null\n}\n\nexport async function searchLocation(query: string): Promise<GeocodingResult[]> {\n  if (!query || query.length < 2) return []\n\n  try {\n    const response = await fetch(`/api/geocode?q=${encodeURIComponent(query)}`)\n\n    if (!response.ok) return []\n\n    const data = await response.json()\n    return data\n  } catch (error) {\n    console.error(\"[v0] Geocoding error:\", error)\n    return []\n  }\n}\n\nexport async function reverseGeocode(lat: number, lon: number): Promise<string | null> {\n  try {\n    const response = await fetch(`/api/geocode?lat=${lat}&lon=${lon}`)\n\n    if (!response.ok) return null\n    const data = await response.json()\n    return data.name\n  } catch (error) {\n    console.error(\"[v0] Reverse geocoding error:\", error)\n    return null\n  }\n}\n\nexport async function autocomplete(input: string): Promise<AutocompleteResult[]> {\n  // Try parsing as coordinates first\n  const coords = parseCoordinates(input)\n  if (coords) {\n    return [\n      {\n        name: `${coords.lat.toFixed(4)}, ${coords.lon.toFixed(4)}`,\n        lat: coords.lat,\n        lon: coords.lon,\n        type: \"coordinate\",\n      },\n    ]\n  }\n\n  // Search for place names\n  const results = await searchLocation(input)\n  return results.slice(0, 5).map((r) => ({\n    name: r.name,\n    lat: r.lat,\n    lon: r.lon,\n    type: r.type,\n  }))\n}\n"],"names":[],"mappings":"AAAA,sEAAsE;;;;;;;;;;;AAiB/D,SAAS,iBAAiB,KAAa;IAC5C,MAAM,UAAU,MAAM,IAAI;IAC1B,MAAM,QAAQ,QAAQ,KAAK,CAAC;IAC5B,IAAI,OAAO;QACT,MAAM,MAAM,OAAO,UAAU,CAAC,KAAK,CAAC,EAAE;QACtC,MAAM,MAAM,OAAO,UAAU,CAAC,KAAK,CAAC,EAAE;QACtC,IAAI,OAAO,CAAC,MAAM,OAAO,MAAM,OAAO,CAAC,OAAO,OAAO,KAAK;YACxD,OAAO;gBAAE;gBAAK;YAAI;QACpB;IACF;IACA,OAAO;AACT;AAEO,eAAe,eAAe,KAAa;IAChD,IAAI,CAAC,SAAS,MAAM,MAAM,GAAG,GAAG,OAAO,EAAE;IAEzC,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,CAAC,eAAe,EAAE,mBAAmB,QAAQ;QAE1E,IAAI,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE;QAE3B,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,EAAE;IACX;AACF;AAEO,eAAe,eAAe,GAAW,EAAE,GAAW;IAC3D,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,CAAC,iBAAiB,EAAE,IAAI,KAAK,EAAE,KAAK;QAEjE,IAAI,CAAC,SAAS,EAAE,EAAE,OAAO;QACzB,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO,KAAK,IAAI;IAClB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,OAAO;IACT;AACF;AAEO,eAAe,aAAa,KAAa;IAC9C,mCAAmC;IACnC,MAAM,SAAS,iBAAiB;IAChC,IAAI,QAAQ;QACV,OAAO;YACL;gBACE,MAAM,GAAG,OAAO,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,OAAO,GAAG,CAAC,OAAO,CAAC,IAAI;gBAC1D,KAAK,OAAO,GAAG;gBACf,KAAK,OAAO,GAAG;gBACf,MAAM;YACR;SACD;IACH;IAEA,yBAAyB;IACzB,MAAM,UAAU,MAAM,eAAe;IACrC,OAAO,QAAQ,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,IAAM,CAAC;YACrC,MAAM,EAAE,IAAI;YACZ,KAAK,EAAE,GAAG;YACV,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,IAAI;QACd,CAAC;AACH"}},
    {"offset": {"line": 2671, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/components/route/route-panel.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useCallback } from \"react\"\nimport { AlertCircle, Search, MapPin } from \"lucide-react\"\nimport RouteAnalyzer from \"./route-analyzer\"\nimport { autocomplete } from \"@/lib/geocoder\"\n\ninterface RoutePanelProps {\n  onRouteSelect: (route: any) => void\n  onCoordinatesChange?: (coords: {\n    source?: { lat: number; lon: number }\n    destination?: { lat: number; lon: number }\n  }) => void\n}\n\nexport default function RoutePanel({ onRouteSelect, onCoordinatesChange }: RoutePanelProps) {\n  const [sourceInput, setSourceInput] = useState(\"\")\n  const [destInput, setDestInput] = useState(\"\")\n  const [source, setSource] = useState<{ lat: number; lon: number } | null>(null)\n  const [destination, setDestination] = useState<{ lat: number; lon: number } | null>(null)\n  const [travelMode, setTravelMode] = useState<\"walking\" | \"vehicle\">(\"walking\")\n  const [analysis, setAnalysis] = useState<any>(null)\n  const [sourceSuggestions, setSourceSuggestions] = useState<any[]>([])\n  const [destSuggestions, setDestSuggestions] = useState<any[]>([])\n  const [showSourceDropdown, setShowSourceDropdown] = useState(false)\n  const [showDestDropdown, setShowDestDropdown] = useState(false)\n\n  const memoizedOnCoordinatesChange = useCallback(() => {\n    onCoordinatesChange?.({ source, destination })\n  }, [source, destination, onCoordinatesChange])\n\n  useEffect(() => {\n    memoizedOnCoordinatesChange()\n    // Auto-trigger analysis when both source and destination are set\n    if (source && destination) {\n      // Analysis will be triggered automatically by RouteAnalyzer component\n      // This effect ensures coordinates are updated immediately\n    }\n  }, [memoizedOnCoordinatesChange, source, destination])\n\n  useEffect(() => {\n    const timer = setTimeout(async () => {\n      if (sourceInput.length > 1) {\n        const suggestions = await autocomplete(sourceInput)\n        setSourceSuggestions(suggestions)\n        setShowSourceDropdown(true)\n      }\n    }, 300)\n    return () => clearTimeout(timer)\n  }, [sourceInput])\n\n  useEffect(() => {\n    const timer = setTimeout(async () => {\n      if (destInput.length > 1) {\n        const suggestions = await autocomplete(destInput)\n        setDestSuggestions(suggestions)\n        setShowDestDropdown(true)\n      }\n    }, 300)\n    return () => clearTimeout(timer)\n  }, [destInput])\n\n  const handleSelectSource = (suggestion: any) => {\n    setSource({ lat: suggestion.lat, lon: suggestion.lon })\n    setSourceInput(suggestion.name)\n    setShowSourceDropdown(false)\n  }\n\n  const handleSelectDestination = (suggestion: any) => {\n    setDestination({ lat: suggestion.lat, lon: suggestion.lon })\n    setDestInput(suggestion.name)\n    setShowDestDropdown(false)\n  }\n\n  const handleAnalysisComplete = useCallback(\n    (result: any) => {\n      setAnalysis(result)\n      onRouteSelect(result)\n    },\n    [onRouteSelect],\n  )\n\n  return (\n    <div className=\"flex flex-col gap-4 h-full overflow-y-auto\">\n      <div className=\"rounded-lg border border-border bg-card p-4\">\n        <h2 className=\"mb-1 text-sm font-semibold text-primary\">ROUTE PLANNER</h2>\n        <p className=\"text-xs text-muted-foreground\">Global routing with AI threat assessment</p>\n\n        <div className=\"mt-4 space-y-3\">\n          <div>\n            <label className=\"mb-1 block text-xs font-semibold text-secondary\">SOURCE</label>\n            <div className=\"relative\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search city, village, camp, or enter coords (34.123, 36.559)\"\n                  value={sourceInput}\n                  onChange={(e) => setSourceInput(e.target.value)}\n                  onFocus={() => sourceInput.length > 1 && setShowSourceDropdown(true)}\n                  className=\"w-full rounded-lg border border-border bg-input px-3 py-2 pl-8 text-sm text-foreground placeholder:text-muted-foreground hover:bg-muted transition focus:outline-none focus:ring-2 focus:ring-primary/50\"\n                />\n              </div>\n              {showSourceDropdown && sourceSuggestions.length > 0 && (\n                <div className=\"absolute top-full left-0 right-0 mt-1 rounded-lg border border-border bg-card shadow-lg z-10\">\n                  {sourceSuggestions.map((suggestion, i) => (\n                    <button\n                      key={i}\n                      onClick={() => handleSelectSource(suggestion)}\n                      className=\"w-full text-left px-3 py-2 text-sm text-foreground hover:bg-muted transition border-b border-border last:border-b-0\"\n                    >\n                      <div className=\"flex items-center gap-2\">\n                        <MapPin className=\"h-3 w-3 text-secondary flex-shrink-0\" />\n                        <div>\n                          <p className=\"font-medium\">{suggestion.name}</p>\n                          <p className=\"text-xs text-muted-foreground\">\n                            {suggestion.lat.toFixed(3)}, {suggestion.lon.toFixed(3)}\n                          </p>\n                        </div>\n                      </div>\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n            {source && (\n              <div className=\"mt-1 text-xs text-primary flex items-center gap-1\">\n                <MapPin className=\"h-3 w-3\" />\n                {source.lat.toFixed(4)}, {source.lon.toFixed(4)}\n              </div>\n            )}\n          </div>\n\n          <div>\n            <label className=\"mb-1 block text-xs font-semibold text-secondary\">DESTINATION</label>\n            <div className=\"relative\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search city, border, camp, or enter coords (34.456, 36.789)\"\n                  value={destInput}\n                  onChange={(e) => setDestInput(e.target.value)}\n                  onFocus={() => destInput.length > 1 && setShowDestDropdown(true)}\n                  className=\"w-full rounded-lg border border-border bg-input px-3 py-2 pl-8 text-sm text-foreground placeholder:text-muted-foreground hover:bg-muted transition focus:outline-none focus:ring-2 focus:ring-primary/50\"\n                />\n              </div>\n              {showDestDropdown && destSuggestions.length > 0 && (\n                <div className=\"absolute top-full left-0 right-0 mt-1 rounded-lg border border-border bg-card shadow-lg z-10\">\n                  {destSuggestions.map((suggestion, i) => (\n                    <button\n                      key={i}\n                      onClick={() => handleSelectDestination(suggestion)}\n                      className=\"w-full text-left px-3 py-2 text-sm text-foreground hover:bg-muted transition border-b border-border last:border-b-0\"\n                    >\n                      <div className=\"flex items-center gap-2\">\n                        <MapPin className=\"h-3 w-3 text-accent flex-shrink-0\" />\n                        <div>\n                          <p className=\"font-medium\">{suggestion.name}</p>\n                          <p className=\"text-xs text-muted-foreground\">\n                            {suggestion.lat.toFixed(3)}, {suggestion.lon.toFixed(3)}\n                          </p>\n                        </div>\n                      </div>\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n            {destination && (\n              <div className=\"mt-1 text-xs text-accent flex items-center gap-1\">\n                <MapPin className=\"h-3 w-3\" />\n                {destination.lat.toFixed(4)}, {destination.lon.toFixed(4)}\n              </div>\n            )}\n          </div>\n\n          {/* Travel Mode */}\n          <div>\n            <label className=\"mb-2 block text-xs font-semibold text-secondary\">TRAVEL MODE</label>\n            <div className=\"flex gap-2\">\n              {([\"walking\", \"vehicle\"] as const).map((mode) => (\n                <button\n                  key={mode}\n                  onClick={() => setTravelMode(mode)}\n                  className={`flex-1 rounded-lg border px-3 py-2 text-xs font-semibold transition ${\n                    travelMode === mode\n                      ? \"border-primary bg-primary text-primary-foreground\"\n                      : \"border-border bg-input text-foreground hover:bg-muted\"\n                  }`}\n                >\n                  {mode === \"walking\" ? \"ðŸš¶\" : \"ðŸš—\"} {mode.toUpperCase()}\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"mt-4 flex gap-2 rounded-lg border border-yellow-500/30 bg-yellow-500/10 p-2\">\n          <AlertCircle className=\"h-4 w-4 flex-shrink-0 text-yellow-500 mt-0.5\" />\n          <p className=\"text-xs text-yellow-200\">\n            Works globally. Analyze terrain, conflict zones, weather, and resources automatically.\n          </p>\n        </div>\n      </div>\n\n      {/* Route Analysis - Auto-triggers when both source and destination are set */}\n      <RouteAnalyzer\n        source={source || undefined}\n        destination={destination || undefined}\n        travelMode={travelMode}\n        onAnalysisComplete={handleAnalysisComplete}\n      />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3150, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/components/emergency/emergency-sos.tsx"],"sourcesContent":["\"use client\"\n\nimport { X, AlertTriangle, MapPin, Compass } from \"lucide-react\"\n\ninterface EmergencySOSProps {\n  onClose: () => void\n}\n\nexport default function EmergencySOS({ onClose }: EmergencySOSProps) {\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm\">\n      <div className=\"w-full max-w-lg rounded-lg border border-accent bg-card p-8 shadow-2xl shadow-accent/20\">\n        {/* Header */}\n        <div className=\"mb-6 flex items-start justify-between\">\n          <div>\n            <div className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"h-6 w-6 text-accent danger-pulse\" />\n              <h2 className=\"text-2xl font-bold text-accent\">EMERGENCY MODE</h2>\n            </div>\n            <p className=\"mt-1 text-sm text-muted-foreground\">Fastest safe direction analysis</p>\n          </div>\n          <button onClick={onClose} className=\"rounded-lg border border-border p-2 hover:bg-muted\">\n            <X className=\"h-5 w-5 text-muted-foreground\" />\n          </button>\n        </div>\n\n        {/* Status */}\n        <div className=\"mb-6 space-y-3\">\n          <div className=\"flex items-center gap-3 rounded-lg bg-accent/10 p-3 border border-accent/30\">\n            <Compass className=\"h-5 w-5 text-accent flex-shrink-0\" />\n            <div>\n              <p className=\"text-xs font-semibold text-accent\">NEAREST SAFE ZONE</p>\n              <p className=\"text-sm text-foreground\">UN Camp - 12.5 km North</p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3 rounded-lg bg-primary/10 p-3 border border-primary/30\">\n            <MapPin className=\"h-5 w-5 text-primary flex-shrink-0\" />\n            <div>\n              <p className=\"text-xs font-semibold text-primary\">QUICKEST ROUTE</p>\n              <p className=\"text-sm text-foreground\">2.5 hours walking through safe zone</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Escape Instructions */}\n        <div className=\"mb-6\">\n          <p className=\"mb-3 text-xs font-semibold text-secondary\">ESCAPE ROUTE STEPS:</p>\n          <ol className=\"space-y-2 text-sm text-foreground\">\n            <li>1. Head North following GPS bearing 345Â°</li>\n            <li>2. Avoid main roads - use forest paths</li>\n            <li>3. Stay in groups if possible</li>\n            <li>4. Stop at checkpoint: show this code</li>\n          </ol>\n        </div>\n\n        {/* Danger Warnings */}\n        <div className=\"mb-6 rounded-lg bg-accent/5 p-3 border border-accent/20\">\n          <p className=\"mb-2 text-xs font-semibold text-accent\">ACTIVE DANGERS IN AREA:</p>\n          <ul className=\"space-y-1 text-xs text-foreground\">\n            <li>â€¢ Military checkpoint 4 km east</li>\n            <li>â€¢ Flooded roads west sector</li>\n            <li>â€¢ Armed group activity (unconfirmed)</li>\n          </ul>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex gap-3\">\n          <button\n            onClick={onClose}\n            className=\"flex-1 rounded-lg border border-border px-4 py-3 font-semibold text-foreground transition hover:bg-muted\"\n          >\n            CLOSE\n          </button>\n          <button className=\"flex-1 rounded-lg bg-primary px-4 py-3 font-semibold text-primary-foreground transition hover:shadow-lg hover:shadow-primary/50\">\n            DOWNLOAD OFFLINE GUIDE\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAFA;;;AAQe,SAAS,aAAa,EAAE,OAAO,EAAqB;IACjE,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,yOAAa;4CAAC,WAAU;;;;;;sDACzB,8OAAC;4CAAG,WAAU;sDAAiC;;;;;;;;;;;;8CAEjD,8OAAC;oCAAE,WAAU;8CAAqC;;;;;;;;;;;;sCAEpD,8OAAC;4BAAO,SAAS;4BAAS,WAAU;sCAClC,cAAA,8OAAC,iMAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAKjB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,mNAAO;oCAAC,WAAU;;;;;;8CACnB,8OAAC;;sDACC,8OAAC;4CAAE,WAAU;sDAAoC;;;;;;sDACjD,8OAAC;4CAAE,WAAU;sDAA0B;;;;;;;;;;;;;;;;;;sCAI3C,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,oNAAM;oCAAC,WAAU;;;;;;8CAClB,8OAAC;;sDACC,8OAAC;4CAAE,WAAU;sDAAqC;;;;;;sDAClD,8OAAC;4CAAE,WAAU;sDAA0B;;;;;;;;;;;;;;;;;;;;;;;;8BAM7C,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAA4C;;;;;;sCACzD,8OAAC;4BAAG,WAAU;;8CACZ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;;;;;;;;;;;;;8BAKR,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAyC;;;;;;sCACtD,8OAAC;4BAAG,WAAU;;8CACZ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;8CACJ,8OAAC;8CAAG;;;;;;;;;;;;;;;;;;8BAKR,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,8OAAC;4BAAO,WAAU;sCAAkI;;;;;;;;;;;;;;;;;;;;;;;AAO9J"}},
    {"offset": {"line": 3464, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/components/navigation/navigation-bar.tsx"],"sourcesContent":["\"use client\"\n\nimport { AlertTriangle, MapPin } from \"lucide-react\"\n\ninterface NavigationBarProps {\n  onSOS: () => void\n}\n\nexport default function NavigationBar({ onSOS }: NavigationBarProps) {\n  return (\n    <nav className=\"border-b border-border bg-card\">\n      <div className=\"flex items-center justify-between px-6 py-4\">\n        <div className=\"flex items-center gap-3\">\n          <MapPin className=\"h-6 w-6 text-primary\" />\n          <h1 className=\"text-xl font-bold text-primary\">SAFE ROUTE</h1>\n          <span className=\"text-xs text-muted-foreground\">Humanitarian Survival Planning</span>\n        </div>\n\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={onSOS}\n            className=\"flex items-center gap-2 rounded-lg bg-accent px-4 py-2 font-semibold text-accent-foreground transition hover:shadow-lg hover:shadow-accent/50 danger-pulse\"\n          >\n            <AlertTriangle className=\"h-5 w-5\" />\n            SOS\n          </button>\n\n          <a\n            href=\"/checklist\"\n            className=\"rounded-lg border border-border px-4 py-2 text-sm text-foreground transition hover:bg-card\"\n          >\n            Checklist\n          </a>\n\n          <a\n            href=\"/guides\"\n            className=\"rounded-lg border border-border px-4 py-2 text-sm text-foreground transition hover:bg-card\"\n          >\n            Guides\n          </a>\n        </div>\n      </div>\n    </nav>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAFA;;;AAQe,SAAS,cAAc,EAAE,KAAK,EAAsB;IACjE,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,oNAAM;4BAAC,WAAU;;;;;;sCAClB,8OAAC;4BAAG,WAAU;sCAAiC;;;;;;sCAC/C,8OAAC;4BAAK,WAAU;sCAAgC;;;;;;;;;;;;8BAGlD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,8OAAC,yOAAa;oCAAC,WAAU;;;;;;gCAAY;;;;;;;sCAIvC,8OAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;sCAID,8OAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX"}},
    {"offset": {"line": 3573, "column": 0}, "map": {"version":3,"sources":["file:///Users/nlgajbhiye/Documents/v0-refugee-survival-app/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport MapContainer from \"@/components/map/map-container\"\nimport RoutePanel from \"@/components/route/route-panel\"\nimport EmergencySOS from \"@/components/emergency/emergency-sos\"\nimport NavigationBar from \"@/components/navigation/navigation-bar\"\n\nexport default function Home() {\n  const [showSOS, setShowSOS] = useState(false)\n  const [selectedRoute, setSelectedRoute] = useState(null)\n  const [routeCoordinates, setRouteCoordinates] = useState<{\n    source?: { lat: number; lon: number }\n    destination?: { lat: number; lon: number }\n  }>({})\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <NavigationBar onSOS={() => setShowSOS(true)} />\n\n      <div className=\"flex h-screen gap-4 p-4\">\n        {/* Main Map */}\n        <div className=\"flex-1\">\n          <MapContainer selectedRoute={selectedRoute} routeCoordinates={routeCoordinates} />\n        </div>\n\n        {/* Route Planning Panel */}\n        <div className=\"w-96\">\n          <RoutePanel onRouteSelect={setSelectedRoute} onCoordinatesChange={setRouteCoordinates} />\n        </div>\n      </div>\n\n      {/* Emergency SOS Modal */}\n      {showSOS && <EmergencySOS onClose={() => setShowSOS(false)} />}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAGrD,CAAC;IAEJ,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,yJAAa;gBAAC,OAAO,IAAM,WAAW;;;;;;0BAEvC,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,iJAAY;4BAAC,eAAe;4BAAe,kBAAkB;;;;;;;;;;;kCAIhE,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,iJAAU;4BAAC,eAAe;4BAAkB,qBAAqB;;;;;;;;;;;;;;;;;YAKrE,yBAAW,8OAAC,uJAAY;gBAAC,SAAS,IAAM,WAAW;;;;;;;;;;;;AAG1D"}}]
}